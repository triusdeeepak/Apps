/*
formBuilder - http://kevinchappell.github.io/formBuilder/
Version: 1.7.10
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";!function(e){var t=function(t,r){var n={theme:"fresh",labels:{off:"Off",on:"On"}},a=e.extend(n,r),o=e('<div class="kc-toggle"/>').insertAfter(t).append(t);o.toggleClass("on",t.is(":checked"));var i='<div class="kct-on">'+a.labels.on+"</div>",c='<div class="kct-off">'+a.labels.off+"</div>",l='<div class="kct-handle"></div>',s='<div class="kct-inner">'+i+l+c+"</div>";o.append(s),o.click(function(){t.attr("checked",!t.attr("checked")),e(this).toggleClass("on")})};e.fn.kcToggle=function(r){var n=this;return n.each(function(){var n=e(this);if(!n.data("kcToggle")){var a=new t(n,r);n.data("kcToggle",a)}})}}(jQuery),function(e){e.fn.formRender=function(t){var r=e(this),n={destroyTemplate:!0,container:!1,label:{selectColor:"Select Color",noFormData:"No form data.",formRendered:"Form Rendered"},render:!0,notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}}},a={},o=e.extend(n,t);a.markup=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];t=a.attrString(t),r=Array.isArray(r)?r.join(""):r;var n=["input"],o=-1===n.indexOf(e)?"<"+e+" "+t+">"+r+"</"+e+">":"<"+e+" "+t+"/>";return o},a.fieldRender=function(t){var r="",n="",i="",c=a.parseAttrs(t.attributes),l=c.description||"",s="",d=e("option",t);c.id=c.name,"checkbox"!==c.type&&(c.className="form-control"),c.required&&(c.required=null,c["aria-required"]="true",s='<span class="required">*</span>'),"hidden"!==c.type&&(l&&(l='<span class="tooltip-element" tooltip="'+l+'">?</span>'),n='<label for="'+c.id+'">'+c.label+" "+s+" "+l+"</label>"),delete c.label,delete c.description;var u=a.attrString(c);switch(c.type){case"textarea":case"rich-text":delete c.type,delete c.value,r=n+"<textarea "+u+"></textarea>";break;case"select":c.type=c.type.replace("-group",""),d.length&&d.each(function(e,t){e=e;var r=a.parseAttrs(t.attributes),n=a.attrString(r),o=t.innerHTML||t.innerContent||t.innerText||t.childNodes[0].nodeValue||t.value;i+="<option "+n+">"+o+"</option>"}),r=n+"<select "+u+">"+i+"</select>";break;case"checkbox-group":case"radio-group":c.type=c.type.replace("-group",""),delete c.className,d.length&&!function(){var t="checkbox"===c.type?c.name+"[]":c.name;d.each(function(r,n){var o=e.extend({},c,a.parseAttrs(n.attributes)),l=void 0,s=void 0;o.selected&&(delete o.selected,o.checked=null),o.name=t,o.id=c.id+"-"+r,l=a.attrString(o),s=n.innerHTML||n.innerContent||n.innerText||n.value||"",i+="<input "+l+' /> <label for="'+o.id+'">'+s+"</label><br>"})}(),r=n+'<div class="'+c.type+'-group">'+i+"</div>";break;case"text":case"password":case"email":case"hidden":case"date":case"autocomplete":r=n+" <input "+u+">";break;case"color":r=n+" <input "+u+"> "+o.label.selectColor;break;case"checkbox":r="<input "+u+"> "+n,c.toggle&&setTimeout(function(){e(document.getElementById(c.id)).kcToggle()},100);break;default:r="<"+c.type+"></"+c.type+">"}return"hidden"!==c.type&&(r=a.markup("div",{className:"form-group field-"+c.id},r)),r},a.attrString=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&(r=a.safeAttr(r,e[r]),t.push(r.name+r.value));return t.join(" ")},a.safeAttr=function(e,t){var r={className:"class"};return e=r[e]||e,t=t?window.JSON.stringify(t):!1,t=t?"="+t:"",{name:e,value:t}},a.parseAttrs=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r].nodeName]=e[r].nodeValue);return t},this.each(function(){var t=[],n=e.parseXML(r.val()),i=e("field",n);if(!n)return o.notify.error(o.label.noFormData),!1;o.notify.success(o.label.formRendered),i.length&&i.each(function(e,r){e=e,t.push(a.fieldRender(r))}),r.data("formHtml",t);var c=t.join("");o.render&&(o.container&&o.container.length?o.container.html(c):r.replaceWith(c))})}}(jQuery);
//# sourceMappingURL=form-render.min.js.map
