"use strict";angular.module("flOnlineOffline",["flNotifications","flAuth"]).factory("StatusFactory",function(){var n={1:"offline",2:"online",3:"idle"},t={1:!1,2:!0,online:!0,offline:!1,"true":!0,"false":!1},e={0:"unknown",1:"web",2:"mobile"},i=0;return function(o){var a,s;return angular.isDefined(o)&&(s=n[o]),a=angular.isDefined(s)&&"offline"!==s?{online:!0,idle:"idle"===s}:{online:!1,idle:!1},a.sessionType=e[i],{getStatus:function(){return angular.copy(a)},setState:function(e){var i=angular.copy(a);if(e=n[e],!e)return!1;"idle"===e?(i.online=!0,i.idle=!0):(i.online=t[e],i.idle=!1),"offline"===e&&(i.sessionType="unknown");var o=!angular.equals(i,a);return a=i,o},setOnlineState:function(n){var e=angular.copy(a);n=t[n],e.online=n,n===!1&&(e.idle=!1);var i=!angular.equals(e,a);return a=e,i},setIdleState:function(n){var t=angular.copy(a);t.online=!0,t.idle=n;var e=!angular.equals(t,a);return a=t,e},setSessionType:function(n){n=e[n],n&&(a.sessionType=n)}}}}).factory("StatusContainer",function(){return function(n){return{isOnline:function(){return n.online},isIdle:function(){return n.idle},getSessionType:function(){return n.sessionType}}}}).factory("OnlineOffline",["$cacheFactory","$rootScope","$timeout","Auth","Notifications","StatusFactory","StatusContainer",function(n,t,e,i,o,a,s){function r(n,e){var i,o=c.get(n);if(o?i=o.setState(e):(f.push(n),o=a(e),c.put(n,o),i=!0),i){c.put(n,o);var r=s(o.getStatus()),u="onlineoffline:statuschange:"+n.toString();t.$broadcast(u,r)}}function u(n){n.length>0&&o.send("onlineoffline",{route:"getsub",users:n})}o.listen("onlineoffline","statuschange"),o.listen("onlineoffline","statusget"),o.listen("onlineoffline","reregister");var l=i.getUserId(),f=[],c=n("onlineOfflineData");return t.$on("onlineoffline:statusget",function(n,t){angular.forEach(t.data,function(n,t){r(t,n)})}),t.$on("onlineoffline:statuschange",function(n,t){var e=t.data.to,i=t.data.user;r(i,e)}),t.$on("onlineoffline:reregister",function(){e(function(){u(f)},500)}),{subscribe:function(n){n instanceof Array||(n=[n]);var t=[];angular.forEach(n,function(n){if(n!==l){var e=c.get(n);e||(t.push(n),r(n))}}),u(t)},getState:function(n){var t=c.get(n);return s(t?t.getStatus():{online:void 0,idle:void 0,sessionType:"unknown"})}}}]).directive("flOnlineOfflineIcon",function(){return{restrict:"A",scope:{userId:"="},controller:"flOnlineOfflineIconCtrl",link:function(n,t,e,i){var o=t[0];i.init(t),t.addClass("online-status"),e.size&&"small"===e.size||"large"===e.size?o.setAttribute("data-size",e.size):o.setAttribute("data-size","small"),n.onStatusUpdate()}}}).controller("flOnlineOfflineIconCtrl",["$scope","$rootScope","OnlineOffline",function(n,t,e){n.postUserIdInitialise=function(){var i="onlineoffline:statuschange:"+n.userId.toString();t.$on(i,function(t,e){n.onlineStatus=e,n.onStatusUpdate()}),e.subscribe(n.userId),n.onlineStatus||(n.onlineStatus=e.getState(n.userId),n.onStatusUpdate())},n.destroyWatch=n.$watch("userId",function(){n.userId&&(n.postUserIdInitialise(),n.destroyWatch())});var i;this.init=function(n){i=n[0]},n.onStatusUpdate=function(){n.onlineStatus&&n.onlineStatus.isOnline()?i.setAttribute("data-status","online"):i.setAttribute("data-status","offline")}}]);
"use strict";angular.module("flMessaging",["flApi","flAuth","flNotifications","flUrl","flWebrtc"]).constant("VIDEOCHAT_LOCALSTORAGE_PREFIX","Messaging_Videochat").constant("VIDEOCHAT_APPLICATION_INFO",{dimensions:{height:575,width:880},title:"Freelancer Videochat",url:"/users/messages/videochat.php",showScrollbars:!1,resizable:!0}).constant("VIDEOCHAT_DIALING_TIMEOUT",3e4).constant("MESSAGING_APPLICATION_ERRORS",{duplicateVideochat:"Sorry, we don't support multiple video calls at the moment.",rungOut:"There was no reply to the call. Try again later.",unsupportedBrowser:"Seems your browser doesn't support our code, update your browser or try a different one.",hungUpOn:"The other party has ended the call.",missedCall:"The other party called you, and  you did not pick up"}).constant("WEBRTC_DISCONNECT_TIMEOUT",5e3).constant("videochatABTests",{treatVideochat:function(){return!1}});
"use strict";angular.module("flMessaging").factory("VideochatFactory",["$log","$q","$window","$rootScope","$timeout","Auth","Notifications","Videochat","VideochatManager","videochatWebRtcConnection","WebRTC","WebRtcStream","URLTools","MESSAGING_APPLICATION_ERRORS","VIDEOCHAT_APPLICATION_INFO","VIDEOCHAT_DIALING_TIMEOUT",function(e,t,n,i,r,a,o,c,l,u,s,d,h,g,f,m){function b(e){var t="";return angular.forEach(e,function(e,n){"boolean"==typeof e&&(e=e?"yes":"no"),t=t.concat(n,"=",e,",")}),t.slice(0,-1)}function v(){return 0===window.location.pathname.indexOf(f.url)}function p(e){return function(t){t[0]&&(t[0].enabled=e,t[0].muted=!e)}}return function(C,S){function w(){I.whenOtherUserStream=_.getOtherUserStream().then(function(t){return e.debug("videochat: remote stream ready:",t),I.otherUserStreamUrl=s.URL.createObjectURL(t),t}),_.connectionTimeout().then(function(){e.debug("videochat: connection timeout in videochatFactory"),R.resolve(),I.userStreamUrl=null,I.otherUserStreamUrl=null})}function U(){I.otherUserStreamUrl=null}o.listen("messages","video:request"),o.listen("messages","video:accept"),o.listen("messages","video:reject"),o.listen("messages","video:close"),o.listen("messages","video:webcam_change");var I,_,A=null,T=!1,V=null,O=null,R=t.defer(),$=!0,q=!0,E=!0;return i.$on("messages:video:request",function(t,n){n=n.data;var i=a.getUserId();n.thread_id===C.id&&n.user_id!==i&&(e.debug("videochat: received request notification"),T=!0,S=n.session_id,r(angular.noop))}),i.$on("messages:video:close",function(e,t){t=t.data;var n=t.thread_id===C.id,o=t.user_id!==a.getUserId();o&&n&&(T&&(A=g.missedCall,i.$broadcast("chatbox:video:missedcall",t)),T=!1,r(angular.noop),I.endCall()),n&&i.$broadcast("videochat:ended",t)}),i.$on("messages:video:accept",function(t,n){n=n.data;var i=a.getUserId();n.thread_id===C.id&&(n.user_id!==i?(e.debug("videochat: received accept notification"),O&&r.cancel(O),V&&(V.resolve(n.session_id),V=null),v()&&(e.debug("videochat: start call after receiver accept"),I.startCall(n.session_id,!0))):I.clearIncomingCallState(),r(angular.noop))}),i.$on("messages:video:reject",function(t,n){if(n=n.data,n.thread_id===C.id){var i=a.getUserId();n.user_id===i&&I.clearIncomingCallState(),e.debug("videochat: received reject notification"),r(angular.noop)}}),i.$on("messages:video:webcam_change",function(t,n){n=n.data,n.thread_id===C.id&&(e.debug("videochat: received webcam change notification",n),$=n.webcam_enabled,r(angular.noop))}),i.$on("webrtc:reconnect",function(){U(),w()}),I={isSupported:function(){return s.isSupported()},getCallRequested:function(){return!!T},getMakingCall:function(){return null!==V},inCall:function(){return l.inCall(C.id)},setIncomingCall:function(e){e&&(S=e,T=!0)},clearIncomingCallState:function(){S=null,T=!1},requestCall:function(){return e.debug("videochat: requestCall"),l.persistCall(C.id),c.request(C.id).then(function(e){S=e}),V=t.defer(),O=r(function(){e.debug("videochat: call request rung out"),A=g.rungOut,c.close(C.id,S),V.reject(),V=null},m),V.promise},startCall:function(t,n){if(l.fetchCall()===C.id){e.debug("videochat: startCall"),e.debug("videochat:    sessionId:",t),e.debug("videochat:    isCaller:",n),A=null;var i=new Date;return this.callStartTimestamp=i.getTime(),_=u(C,t,n),w(),!0}return A=g.duplicateVideochat,!1},whenUserStream:function(){var n=this;return d.get().then(function(t){return e.debug("videochat: local stream ready:",t),n.userStreamUrl=s.URL.createObjectURL(t),t}).catch(function(n){return e.debug("Failed to get permission for local webcam"),E=!1,q=!1,t.reject(n)})},whenDisconnect:function(){return R.promise},answerCallRequest:function(t){S=t,e.debug("videochat: answerCallRequest"),l.persistCall(C.id),c.accept(C.id,t),this.startCall(t,!1)},acceptCall:function(){return T=!1,S?this.openVideochatWindow(S):!1},rejectCall:function(){T&&c.reject(C.id,S).then(function(){I.clearIncomingCallState()})},endCall:function(){this.inCall()&&(this.otherUserStreamUrl=null,this.userStreamUrl=null,this.whenUserStream=null,this.whenOtherUserStream=null,c.close(C.id,S),l.deleteCall(C.id))},hasError:function(){return null!==A},getError:function(){return A},getSessionId:function(){return S},openVideochatWindow:function(e){if(!this.isSupported())return A=g.unsupportedBrowser,!1;if(!this.inCall()){var t={height:f.dimensions.height,width:f.dimensions.width,resizable:f.resizable,scrollbars:f.showScrollbars},i={threadId:C.id};e&&(i.sessionId=e);var r=f.url+"?"+h.constructGetParameters(i),a=b(t),o=n.open(r,f.title,a);return l.persistCall(C.id,o),l.storeCall(C.id),!0}return A=g.duplicateVideochat,!1},muteAudio:function(){this.whenUserStream().then(function(t){e.debug("videochat: muteAudio"),p(!1)(t.getAudioTracks())})},unmuteAudio:function(){this.whenUserStream().then(function(t){e.debug("videochat: unmuteAudio"),p(!0)(t.getAudioTracks())})},stopShowingVideo:function(){return t.all([this.whenUserStream().then(function(t){e.debug("videochat: stopShowingVideo"),p(!1)(t.getVideoTracks()),q=!1}),c.disableWebcam(C.id,S)])},startShowingVideo:function(){return t.all([this.whenUserStream().then(function(t){e.debug("videochat: startShowingVideo"),p(!0)(t.getVideoTracks()),q=!0}),c.enableWebcam(C.id,S)])},localWebcamAvailable:function(){return E},localWebcamEnabled:function(){return q&&E},remoteWebcamEnabled:function(){return $},callAccepted:function(){return V?V.promise:t.when(!1)}}}}]);
"use strict";angular.module("flMessaging").factory("VideochatManager",["$interval","$window","VIDEOCHAT_LOCALSTORAGE_PREFIX","MESSAGING_APPLICATION_ERRORS",function(t,e,a,l){function r(){var t=e.localStorage.getItem(o);return parseInt(t)||null}function n(){return Date.now()}var o=a+"_threadId",i=a+"_timestamp",c=3e3,u=5e3,s=null;return{fetchCall:function(){this.validateCall();var t=e.localStorage.getItem(o);return parseInt(t,10)||null},storeCall:function(t){if(this.inCall(t))throw new Error(l.duplicateVideochat);var a=n();e.localStorage.setItem(o,t),e.localStorage.setItem(i,a)},persistCall:function(a,l){this.validateCall(),l||(l=e[0]);var u=r();u&&u!==a||(s=t(function(){if(l.closed)return void t.cancel(s);var r=n();e.localStorage.setItem(o,a),e.localStorage.setItem(i,r)},c))},inCall:function(t){return this.validateCall(),t?r()===t:!!s||r()},deleteCall:function(a){if(a){var l=this.fetchCall();if(a!==l)return}t.cancel(s),s=null,e.localStorage.removeItem(o),e.localStorage.removeItem(i)},validateCall:function(){var t=e.localStorage.getItem(o);if(t){var a=n(),l=e.localStorage.getItem(i);l=parseInt(l,10),a-l>=u&&this.deleteCall()}}}}]);
"use strict";angular.module("flMessaging").factory("videochatWebRtcConnection",["$interval","$log","$rootScope","$window","Auth","Notifications","Videochat","WebRtcConnection","WEBRTC_DISCONNECT_TIMEOUT","WEBRTC_STATS_INTERVAL_MS",function(e,n,t,i,c,a,d,o,r,s){return function(u,f,h){function g(){function e(e){var n={iceServers:e.ice_servers};return o(n,r)}return l?l:l=d.getIceConfig(u.id).then(e)}function v(){g().then(function(n){function t(){n.getStats().then(function(e){if(!angular.isUndefined(e)){var n,t,c=e.audio,a=e.video,d={};for(n in c)c.hasOwnProperty(n)&&(t="audio."+n,d[t]=c[n]);for(n in a)a.hasOwnProperty(n)&&(t="video."+n,d[t]=a[n]);d.sessionId=f,i._t.push(["videochat_tracking",d])}})}m=e(t,s)})}function _(){h&&(n.debug("videochat: createOffer as caller"),g().then(function(e){e.createOffer().then(function(e){d.sdpOffer(u.id,f,e)})})),v(),g().then(function(e){e.iceCheckingTimeout().catch(function(){n.debug("videochat: iceCheckingTimeout: iceRestart"),d.iceRestart(u.id,f),p(),_(),t.$broadcast("webrtc:reconnect")})})}function p(){m&&e.cancel(m),g().then(function(e){e.close()}),l=null}a.listen("messages","video:sdp_exchange"),a.listen("messages","video:ice_exchange"),a.listen("messages","video:ice_restart");var l,m;_(),t.$on("messages:video:ice_exchange",function(e,t){var i=c.getUserId();if(t=t.data,t.thread_id===u.id&&t.user_id!==i){n.debug("videochat: received ice exchange notification:",t);var a=t.ice_data,d={candidate:a.candidate,sdpMid:a.sdp_m_id,sdpMLineIndex:a.sdp_m_line_index};g().then(function(e){e.addIceCandidate(d)})}}),t.$on("messages:video:sdp_exchange",function(e,t){t=t.data;var i=c.getUserId();if(t.thread_id===u.id&&t.user_id!==i){n.debug("videochat: received sdp exchange notification:",t);var a={type:t.sdp.sdp_type,sdp:t.sdp.sdp_data};g().then(function(e){e.setRemoteDescription(a,h).then(function(){h||(n.debug("videochat: createAnswer as receiver"),e.createAnswer().then(function(e){d.sdpAnswer(u.id,f,e)}))})})}}),t.$on("messages:video:ice_restart",function(e,n){n=n.data;var i=c.getUserId();n.thread_id===u.id&&n.user_id!==i&&(p(),_(),t.$broadcast("webrtc:reconnect"))}),t.$on("webrtc:iceCandidate",function(e,t){n.debug("videochat: webrtc:iceCandidate event:",t),d.iceExchange(u.id,f,t)});var b={getOtherUserStream:function(){return g().then(function(e){return e.getOtherUserStream()})},connectionTimeout:function(){return g().then(function(e){return e.connectionTimeout()})}};return b}}]);
"use strict";function modalFactoryFactory(e,t,n,r,o,a,l){return function(c){function u(e){return p.then(function(t){v||i(t,e)})}function i(o,a){if(v=angular.element(o),0===v.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(d=n.$new(),h){a||(a={}),a.$scope=d;var l=r(h,a);$&&(d[$]=l)}else if(a)for(var c in a)d[c]=a[c];return t(v)(d),e.enter(v,s)}function m(){return v?e.leave(v).then(function(){d.$destroy(),d=null,v.remove(),v=null}):o.when()}function f(){return!!v}if(!(!c.template^!c.templateUrl))throw new Error("Expected modal to have exacly one of either `template` or `templateUrl`");var p,d,h=(c.template,c.controller||null),$=c.controllerAs,s=angular.element(c.container||document.body),v=null;return p=c.template?o.when(c.template):a.get(c.templateUrl,{cache:l}).then(function(e){return e.data}),{activate:u,deactivate:m,active:f}}}angular.module("btford.modal",[]).factory("btfModal",["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache",modalFactoryFactory]);
(function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Tt.call(e,t)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(e){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function i(e,t){var n=!0;return _(function(){return n&&(a(e),n=!1),t.apply(this,arguments)},t)}function r(e,t){Mn[e]||(a(t),Mn[e]=!0)}function o(e,t){return function(n){return p(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(e,t){var n,s,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return 0>t-i?(n=e.clone().add(a-1,"months"),s=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),s=(t-i)/(n-i)),-(a+s)}function l(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&12>t&&(t+=12),s||12!==t||(t=0),t):t}function d(){}function f(e,t){t!==!1&&F(e),m(this,e),this._d=new Date(+e._d),wn===!1&&(wn=!0,wt.updateOffset(this),wn=!1)}function h(e){var t=S(e),n=t.year||0,s=t.quarter||0,a=t.month||0,i=t.week||0,r=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+r+7*i,this._months=+a+3*s+12*n,this._data={},this._locale=wt.localeData(),this._bubble()}function _(e,t){for(var s in t)n(t,s)&&(e[s]=t[s]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,s,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),It.length>0)for(n in It)s=It[n],a=t[s],"undefined"!=typeof a&&(e[s]=a);return e}function y(e){return 0>e?Math.ceil(e):Math.floor(e)}function p(e,t,n){for(var s=""+Math.abs(e),a=e>=0;s.length<t;)s="0"+s;return(a?n?"+":"":"-")+s}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function M(e,t){var n;return t=H(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function D(e,t){return function(n,s){var a,i;return null===s||isNaN(+s)||(r(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),i=n,n=s,s=i),n="string"==typeof n?+n:n,a=wt.duration(n,s),w(this,a,e),this}}function w(e,t,n,s){var a=t._milliseconds,i=t._days,r=t._months;s=null==s?!0:s,a&&e._d.setTime(+e._d+a*n),i&&mt(e,"Date",_t(e,"Date")+i*n),r&&ht(e,_t(e,"Month")+r*n),s&&wt.updateOffset(e,i||r)}function Y(e){return"[object Array]"===Object.prototype.toString.call(e)}function v(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function k(e,t,n){var s,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0;for(s=0;a>s;s++)(n&&e[s]!==t[s]||!n&&O(e[s])!==O(t[s]))&&r++;return r+i}function b(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=fn[e]||hn[t]||t}return e}function S(e){var t,s,a={};for(s in e)n(e,s)&&(t=b(s),t&&(a[t]=e[s]));return a}function T(t){var n,s;if(0===t.indexOf("week"))n=7,s="day";else{if(0!==t.indexOf("month"))return;n=12,s="month"}wt[t]=function(a,i){var r,o,u=wt._locale[t],c=[];if("number"==typeof a&&(i=a,a=e),o=function(e){var t=wt().utc().set(s,e);return u.call(wt._locale,t,a||"")},null!=i)return o(i);for(r=0;n>r;r++)c.push(o(r));return c}}function O(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function U(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function W(e,t,n){return ct(wt([e,11,31+t-n]),t,n).week}function C(e){return G(e)?366:365}function G(e){return e%4===0&&e%100!==0||e%400===0}function F(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Ut]<0||e._a[Ut]>11?Ut:e._a[Wt]<1||e._a[Wt]>U(e._a[Ot],e._a[Ut])?Wt:e._a[Ct]<0||e._a[Ct]>24||24===e._a[Ct]&&(0!==e._a[Gt]||0!==e._a[Ft]||0!==e._a[Pt])?Ct:e._a[Gt]<0||e._a[Gt]>59?Gt:e._a[Ft]<0||e._a[Ft]>59?Ft:e._a[Pt]<0||e._a[Pt]>999?Pt:-1,e._pf._overflowDayOfYear&&(Ot>t||t>Wt)&&(t=Wt),e._pf.overflow=t)}function P(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function L(e){return e?e.toLowerCase().replace("_","-"):e}function I(e){for(var t,n,s,a,i=0;i<e.length;){for(a=L(e[i]).split("-"),t=a.length,n=L(e[i+1]),n=n?n.split("-"):null;t>0;){if(s=x(a.slice(0,t).join("-")))return s;if(n&&n.length>=t&&k(a,n,!0)>=t-1)break;t--}i++}return null}function x(e){var t=null;if(!Lt[e]&&xt)try{t=wt.locale(),require("./locale/"+e),wt.locale(t)}catch(n){}return Lt[e]}function H(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(wt.isMoment(e)||v(e)?+e:+wt(e))-+n,n._d.setTime(+n._d+s),wt.updateOffset(n,!1),n):wt(e).local()}function A(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,s=e.match(Zt);for(t=0,n=s.length;n>t;t++)s[t]=gn[s[t]]?gn[s[t]]:A(s[t]);return function(a){var i="";for(t=0;n>t;t++)i+=s[t]instanceof Function?s[t].call(a,e):s[t];return i}}function Z(e,t){return e.isValid()?(t=E(t,e.localeData()),_n[t]||(_n[t]=z(t)),_n[t](e)):e.localeData().invalidDate()}function E(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Et.lastIndex=0;s>=0&&Et.test(e);)e=e.replace(Et,n),Et.lastIndex=0,s-=1;return e}function j(e,t){var n,s=t._strict;switch(e){case"Q":return Kt;case"DDDD":return tn;case"YYYY":case"GGGG":case"gggg":return s?nn:qt;case"Y":case"G":case"g":return an;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?sn:Vt;case"S":if(s)return Kt;case"SS":if(s)return en;case"SSS":if(s)return tn;case"DDD":return Nt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Jt;case"a":case"A":return t._locale._meridiemParse;case"x":return Qt;case"X":return Xt;case"Z":case"ZZ":return Rt;case"T":return Bt;case"SSSS":return $t;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?en:jt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return jt;case"Do":return s?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(X(Q(e.replace("\\","")),"i"))}}function N(e){e=e||"";var t=e.match(Rt)||[],n=t[t.length-1]||[],s=(n+"").match(ln)||["-",0,0],a=+(60*s[1])+O(s[2]);return"+"===s[0]?a:-a}function q(e,t,n){var s,a=n._a;switch(e){case"Q":null!=t&&(a[Ut]=3*(O(t)-1));break;case"M":case"MM":null!=t&&(a[Ut]=O(t)-1);break;case"MMM":case"MMMM":s=n._locale.monthsParse(t,e,n._strict),null!=s?a[Ut]=s:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[Wt]=O(t));break;case"Do":null!=t&&(a[Wt]=O(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=O(t));break;case"YY":a[Ot]=wt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Ot]=O(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[Ct]=O(t);break;case"m":case"mm":a[Gt]=O(t);break;case"s":case"ss":a[Ft]=O(t);break;case"S":case"SS":case"SSS":case"SSSS":a[Pt]=O(1e3*("0."+t));break;case"x":n._d=new Date(O(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=N(t);break;case"dd":case"ddd":case"dddd":s=n._locale.weekdaysParse(t),null!=s?(n._w=n._w||{},n._w.d=s):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=O(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=wt.parseTwoDigitYear(t)}}function V(e){var n,s,a,i,r,o,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,o=4,s=t(n.GG,e._a[Ot],ct(wt(),1,4).year),a=t(n.W,1),i=t(n.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=t(n.gg,e._a[Ot],ct(wt(),r,o).year),a=t(n.w,1),null!=n.d?(i=n.d,r>i&&++a):i=null!=n.e?n.e+r:r),u=lt(s,a,i,o,r),e._a[Ot]=u.year,e._dayOfYear=u.dayOfYear}function $(e){var n,s,a,i,r=[];if(!e._d){for(a=R(e),e._w&&null==e._a[Wt]&&null==e._a[Ut]&&V(e),e._dayOfYear&&(i=t(e._a[Ot],a[Ot]),e._dayOfYear>C(i)&&(e._pf._overflowDayOfYear=!0),s=it(i,0,e._dayOfYear),e._a[Ut]=s.getUTCMonth(),e._a[Wt]=s.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=r[n]=a[n];for(;7>n;n++)e._a[n]=r[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ct]&&0===e._a[Gt]&&0===e._a[Ft]&&0===e._a[Pt]&&(e._nextDay=!0,e._a[Ct]=0),e._d=(e._useUTC?it:at).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ct]=24)}}function J(e){var t;e._d||(t=S(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],$(e))}function R(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function B(t){if(t._f===wt.ISO_8601)return void et(t);t._a=[],t._pf.empty=!0;var n,s,a,i,r,o=""+t._i,u=o.length,c=0;for(a=E(t._f,t._locale).match(Zt)||[],n=0;n<a.length;n++)i=a[n],s=(o.match(j(i,t))||[])[0],s&&(r=o.substr(0,o.indexOf(s)),r.length>0&&t._pf.unusedInput.push(r),o=o.slice(o.indexOf(s)+s.length),c+=s.length),gn[i]?(s?t._pf.empty=!1:t._pf.unusedTokens.push(i),q(i,s,t)):t._strict&&!s&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=u-c,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[Ct]<=12&&(t._pf.bigHour=e),t._a[Ct]=l(t._locale,t._a[Ct],t._meridiem),$(t),F(t)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,a){return t||n||s||a})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(e){var t,n,a,i,r;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)r=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=s(),t._f=e._f[i],B(t),P(t)&&(r+=t._pf.charsLeftOver,r+=10*t._pf.unusedTokens.length,t._pf.score=r,(null==a||a>r)&&(a=r,n=t));_(e,n||t)}function et(e){var t,n,s=e._i,a=rn.exec(s);if(a){for(e._pf.iso=!0,t=0,n=un.length;n>t;t++)if(un[t][1].exec(s)){e._f=un[t][0]+(a[6]||" ");break}for(t=0,n=cn.length;n>t;t++)if(cn[t][1].exec(s)){e._f+=cn[t][0];break}s.match(Rt)&&(e._f+="Z"),B(e)}else e._isValid=!1}function tt(e){et(e),e._isValid===!1&&(delete e._isValid,wt.createFromInputFallback(e))}function nt(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function st(t){var n,s=t._i;s===e?t._d=new Date:v(s)?t._d=new Date(+s):null!==(n=Ht.exec(s))?t._d=new Date(+n[1]):"string"==typeof s?tt(t):Y(s)?(t._a=nt(s.slice(0),function(e){return parseInt(e,10)}),$(t)):"object"==typeof s?J(t):"number"==typeof s?t._d=new Date(s):wt.createFromInputFallback(t)}function at(e,t,n,s,a,i,r){var o=new Date(e,t,n,s,a,i,r);return 1970>e&&o.setFullYear(e),o}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ot(e,t,n,s,a){return a.relativeTime(t||1,!!n,e,s)}function ut(e,t,n){var s=wt.duration(e).abs(),a=St(s.as("s")),i=St(s.as("m")),r=St(s.as("h")),o=St(s.as("d")),u=St(s.as("M")),c=St(s.as("y")),l=a<mn.s&&["s",a]||1===i&&["m"]||i<mn.m&&["mm",i]||1===r&&["h"]||r<mn.h&&["hh",r]||1===o&&["d"]||o<mn.d&&["dd",o]||1===u&&["M"]||u<mn.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,ot.apply({},l)}function ct(e,t,n){var s,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),s=wt(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function lt(e,t,n,s,a){var i,r,o=it(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,i=a-o+(o>s?7:0)-(a>o?7:0),r=7*(t-1)+(n-a)+i+1,{year:r>0?e:e-1,dayOfYear:r>0?r:C(e-1)+r}}function dt(t){var n,s=t._i,a=t._f;return t._locale=t._locale||wt.localeData(t._l),null===s||a===e&&""===s?wt.invalid({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),wt.isMoment(s)?new f(s,!0):(a?Y(a)?K(t):B(t):st(t),n=new f(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ft(e,t){var n,s;if(1===t.length&&Y(t[0])&&(t=t[0]),!t.length)return wt();for(n=t[0],s=1;s<t.length;++s)t[s][e](n)&&(n=t[s]);return n}function ht(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),U(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function _t(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function mt(e,t,n){return"Month"===t?ht(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function yt(e,t){return function(n){return null!=n?(mt(this,e,n),wt.updateOffset(this,t),this):_t(this,e)}}function pt(e){return 400*e/146097}function gt(e){return 146097*e/400}function Mt(e){wt.duration.fn[e]=function(){return this._data[e]}}function Dt(e){"undefined"==typeof ender&&(Yt=bt.moment,bt.moment=e?i("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):wt)}for(var wt,Yt,vt,kt="2.9.0",bt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,St=Math.round,Tt=Object.prototype.hasOwnProperty,Ot=0,Ut=1,Wt=2,Ct=3,Gt=4,Ft=5,Pt=6,Lt={},It=[],xt="undefined"!=typeof module&&module&&module.exports,Ht=/^\/?Date\((\-?\d+)/i,At=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Zt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Et=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jt=/\d\d?/,Nt=/\d{1,3}/,qt=/\d{1,4}/,Vt=/[+\-]?\d{1,6}/,$t=/\d+/,Jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Rt=/Z|[\+\-]\d\d:?\d\d/gi,Bt=/T/i,Qt=/[\+\-]?\d+/,Xt=/[\+\-]?\d+(\.\d{1,3})?/,Kt=/\d/,en=/\d\d/,tn=/\d{3}/,nn=/\d{4}/,sn=/[+-]?\d{6}/,an=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on="YYYY-MM-DDTHH:mm:ssZ",un=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],cn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,dn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),fn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},hn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},_n={},mn={s:45,m:45,h:22,d:26,M:11},yn="DDD w W M D d".split(" "),pn="M D H h m s w W".split(" "),gn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+p(Math.abs(e),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return O(this.milliseconds()/100)},SS:function(){return p(O(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+p(O(e/60),2)+":"+p(O(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+p(O(e/60),2)+p(O(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Mn={},Dn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],wn=!1;yn.length;)vt=yn.pop(),gn[vt+"o"]=u(gn[vt],vt);for(;pn.length;)vt=pn.pop(),gn[vt+vt]=o(gn[vt],2);gn.DDDD=o(gn.DDD,3),_(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var s,a,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(a=wt.utc([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=wt([2e3,1]).day(t),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var s=this._calendar[e];return"function"==typeof s?s.apply(t,[n]):s},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,s){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,s):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ct(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._i=t,r._f=n,r._l=a,r._strict=i,r._isUTC=!1,r._pf=s(),dt(r)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=i("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),wt.min=function(){var e=[].slice.call(arguments,0);return ft("isBefore",e)},wt.max=function(){var e=[].slice.call(arguments,0);return ft("isAfter",e)},wt.utc=function(t,n,a,i){var r;return"boolean"==typeof a&&(i=a,a=e),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=a,r._i=t,r._f=n,r._strict=i,r._pf=s(),dt(r).utc()},wt.unix=function(e){return wt(1e3*e)},wt.duration=function(e,t){var s,a,i,r,o=e,u=null;return wt.isDuration(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(u=At.exec(e))?(s="-"===u[1]?-1:1,o={y:0,d:O(u[Wt])*s,h:O(u[Ct])*s,m:O(u[Gt])*s,s:O(u[Ft])*s,ms:O(u[Pt])*s}):(u=zt.exec(e))?(s="-"===u[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},o={y:i(u[2]),M:i(u[3]),d:i(u[4]),h:i(u[5]),m:i(u[6]),s:i(u[7]),w:i(u[8])}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=M(wt(o.from),wt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),a=new h(o),wt.isDuration(e)&&n(e,"_locale")&&(a._locale=e._locale),a},wt.version=kt,wt.defaultFormat=on,wt.ISO_8601=function(){},wt.momentProperties=It,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(t,n){return mn[t]===e?!1:n===e?mn[t]:(mn[t]=n,!0)},wt.lang=i("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return wt.locale(e,t)}),wt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?wt.defineLocale(e,t):wt.localeData(e),n&&(wt.duration._locale=wt._locale=n)),wt._locale._abbr},wt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Lt[e]||(Lt[e]=new d),Lt[e].set(t),wt.locale(e),Lt[e]):(delete Lt[e],null)},wt.langData=i("moment.langData is deprecated. Use moment.localeData instead.",function(e){return wt.localeData(e)}),wt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return wt._locale;if(!Y(e)){if(t=x(e))return t;e=[e]}return I(e)},wt.isMoment=function(e){return e instanceof f||null!=e&&n(e,"_isAMomentObject")},wt.isDuration=function(e){return e instanceof h};for(vt=Dn.length-1;vt>=0;--vt)T(Dn[vt]);wt.normalizeUnits=function(e){return b(e)},wt.invalid=function(e){var t=wt.utc(0/0);return null!=e?_(t._pf,e):t._pf.userInvalidated=!0,t},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(e){return O(e)+(O(e)>68?1900:2e3)},wt.isDate=v,_(wt.fn=f.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=wt(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return _({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=Z(this,e||wt.defaultFormat);return this.localeData().postformat(t)},add:D(1,"add"),subtract:D(-1,"subtract"),diff:function(e,t,n){var s,a,i=H(e,this),r=6e4*(i.utcOffset()-this.utcOffset());return t=b(t),"year"===t||"month"===t||"quarter"===t?(a=c(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(s=this-i,a="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-r)/864e5:"week"===t?(s-r)/6048e5:s),n?a:y(a)},from:function(e,t){return wt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(wt(),e)},calendar:function(e){var t=e||wt(),n=H(t,this).startOf("day"),s=this.diff(n,"days",!0),a=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,wt(t)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=rt(e,this.localeData()),this.add(e-t,"d")):t},month:yt("Month",!0),startOf:function(e){switch(e=b(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=b(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=b("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+this>+e):(n=wt.isMoment(e)?+e:+wt(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=b("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+e>+this):(n=wt.isMoment(e)?+e:+wt(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=b(t||"millisecond"),"millisecond"===t?(e=wt.isMoment(e)?e:wt(e),+this===+e):(n=+wt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:i("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=wt.apply(null,arguments),this>e?this:e}),max:i("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=wt.apply(null,arguments),e>this?this:e}),zone:i("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,s=this._offset||0;return null!=e?("string"==typeof e&&(e=N(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==e&&(!t||this._changeInProgress?w(this,wt.duration(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(N(this._i)),this},hasAlignedHourOffset:function(e){return e=e?wt(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return U(this.year(),this.month())},dayOfYear:function(e){var t=St((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ct(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ct(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return W(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return W(this.year(),e.dow,e.doy)},get:function(e){return e=b(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=b(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=wt.localeData(t),null!=n&&(this._locale=n),this)},lang:i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=yt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=yt("Seconds",!1),wt.fn.minute=wt.fn.minutes=yt("Minutes",!1),wt.fn.hour=wt.fn.hours=yt("Hours",!0),wt.fn.date=yt("Date",!0),wt.fn.dates=i("dates accessor is deprecated. Use date instead.",yt("Date",!0)),wt.fn.year=yt("FullYear",!0),wt.fn.years=i("years accessor is deprecated. Use year instead.",yt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,_(wt.duration.fn=h.prototype,{_bubble:function(){var e,t,n,s=this._milliseconds,a=this._days,i=this._months,r=this._data,o=0;r.milliseconds=s%1e3,e=y(s/1e3),r.seconds=e%60,t=y(e/60),r.minutes=t%60,n=y(t/60),r.hours=n%24,a+=y(n/24),o=y(pt(a)),a-=y(gt(o)),i+=y(a/30),a%=30,o+=y(i/12),i%=12,r.days=a,r.months=i,r.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return y(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12)
},humanize:function(e){var t=ut(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=wt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=wt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=b(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=b(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*pt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(gt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),s=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||a||i?"T":"")+(s?s+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(vt in dn)n(dn,vt)&&Mt(vt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===O(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),xt?module.exports=wt:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(bt.moment=Yt),wt}),Dt(!0)):Dt()}).call(this);
!function(a,i){"use strict";"function"==typeof define&&define.amd?define(["moment"],i):"object"==typeof exports?module.exports=i(require("moment")):i(a.moment)}(this,function(a){"use strict";function i(a){return a>96?a-87:a>64?a-29:a-48}function A(a){var A,r=0,e=a.split("."),c=e[0],n=e[1]||"",o=1,t=0,s=1;for(45===a.charCodeAt(0)&&(r=1,s=-1),r;r<c.length;r++)A=i(c.charCodeAt(r)),t=60*t+A;for(r=0;r<n.length;r++)o/=60,A=i(n.charCodeAt(r)),t+=A*o;return t*s}function r(a){for(var i=0;i<a.length;i++)a[i]=A(a[i])}function e(a,i){for(var A=0;i>A;A++)a[A]=Math.round((a[A-1]||0)+6e4*a[A]);a[i-1]=1/0}function c(a,i){var A,r=[];for(A=0;A<i.length;A++)r[A]=a[i[A]];return r}function n(a){var i=a.split("|"),A=i[2].split(" "),n=i[3].split(""),o=i[4].split(" ");return r(A),r(n),r(o),e(o,n.length),{name:i[0],abbrs:c(i[1].split(" "),n),offsets:c(A,n),untils:o}}function o(a){a&&this._set(n(a))}function t(a){return(a||"").toLowerCase().replace(/\//g,"_")}function s(a){var i,A,r;for("string"==typeof a&&(a=[a]),i=0;i<a.length;i++)A=a[i].split("|")[0],r=t(A),C[r]=a[i],E[r]=A}function u(a,i){a=t(a);var A,r=C[a];return r instanceof o?r:"string"==typeof r?(r=new o(r),C[a]=r,r):S[a]&&i!==u&&(A=u(S[a],u))?(r=C[a]=new o,r._set(A),r.name=E[a],r):null}function T(){var a,i=[];for(a in E)E.hasOwnProperty(a)&&(C[a]||C[S[a]])&&E[a]&&i.push(E[a]);return i.sort()}function m(a){var i,A,r,e;for("string"==typeof a&&(a=[a]),i=0;i<a.length;i++)A=a[i].split("|"),r=t(A[0]),e=t(A[1]),S[r]=e,E[r]=A[0],S[e]=r,E[e]=A[1]}function M(a){s(a.zones),m(a.links),p.dataVersion=a.version}function l(a){return l.didShowError||(l.didShowError=!0,b("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!u(a)}function f(a){return!(!a._a||void 0!==a._tzm)}function b(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function p(i){var A=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],e=u(r),c=a.utc.apply(null,A);return e&&!a.isMoment(i)&&f(c)&&c.add(e.parse(c),"minutes"),c.tz(r),c}function d(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function z(a){return function(){return this._z=null,a.apply(this,arguments)}}if(void 0!==a.tz)return b("Moment Timezone "+a.tz.version+" was already loaded "+(a.tz.dataVersion?"with data from ":"without any data")+a.tz.dataVersion),a;var B="0.4.1",C={},S={},E={},g=a.version.split("."),h=+g[0],O=+g[1];(2>h||2===h&&6>O)&&b("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),o.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets},_index:function(a){var i,A=+a,r=this.untils;for(i=0;i<r.length;i++)if(A<r[i])return i},parse:function(a){var i,A,r,e,c=+a,n=this.offsets,o=this.untils,t=o.length-1;for(e=0;t>e;e++)if(i=n[e],A=n[e+1],r=n[e?e-1:e],A>i&&p.moveAmbiguousForward?i=A:i>r&&p.moveInvalidForward&&(i=r),c<o[e]-6e4*i)return n[e];return n[t]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},p.version=B,p.dataVersion="",p._zones=C,p._links=S,p._names=E,p.add=s,p.link=m,p.load=M,p.zone=u,p.zoneExists=l,p.names=T,p.Zone=o,p.unpack=n,p.unpackBase60=A,p.needsOffset=f,p.moveInvalidForward=!0,p.moveAmbiguousForward=!1;var W=a.fn;a.tz=p,a.defaultZone=null,a.updateOffset=function(i,A){var r,e=a.defaultZone;void 0===i._z&&(e&&f(i)&&!i._isUTC&&(i._d=a.utc(i._a)._d,i.utc().add(e.parse(i),"minutes")),i._z=e),i._z&&(r=i._z.offset(i),Math.abs(r)<16&&(r/=60),void 0!==i.utcOffset?i.utcOffset(-r,A):i.zone(r,A))},W.tz=function(i){return i?(this._z=u(i),this._z?a.updateOffset(this):b("Moment Timezone has no data for "+i+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},W.zoneName=d(W.zoneName),W.zoneAbbr=d(W.zoneAbbr),W.utc=z(W.utc),a.tz.setDefault=function(i){return(2>h||2===h&&9>O)&&b("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=i?u(i):null,a};var _=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(_)?(_.push("_z"),_.push("_a")):_&&(_._z=null),M({version:"2015g",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),a});
"format global";"deps angular";"deps moment";!function(){"use strict";function e(e,n){return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",n).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(n,t,o,i,r){return function(a,u,f){function m(){var e;if(i.serverTime){var n=(new Date).getTime(),o=n-y+i.serverTime;e=t(o)}else e=t();return e}function l(){v&&(n.clearTimeout(v),v=null)}function s(e){if(u.text(e.from(m(),T)),M&&!u.attr("title")&&u.attr("title",e.local().format(M)),!C){var t=Math.abs(m().diff(e,"minute")),o=3600;1>t?o=1:60>t?o=30:180>t&&(o=300),v=n.setTimeout(function(){s(e)},1e3*o)}}function c(e){D&&u.attr("datetime",e)}function p(){if(l(),d){var e=o.preprocessDate(d,z,h);s(e),c(e.toISOString())}}var d,g,v=null,h=r.format,T=i.withoutSuffix,M=i.titleFormat,y=(new Date).getTime(),z=r.preprocess,$=f.amTimeAgo.replace(/^::/,""),C=0===f.amTimeAgo.indexOf("::"),D="TIME"===u[0].nodeName.toUpperCase();g=a.$watch($,function(e){return"undefined"==typeof e||null===e||""===e?(l(),void(d&&(u.text(""),c(""),d=null))):(d=e,p(),void(void 0!==e&&C&&g()))}),e.isDefined(f.amWithoutSuffix)&&a.$watch(f.amWithoutSuffix,function(e){"boolean"==typeof e?(T=e,p()):T=i.withoutSuffix}),f.$observe("amFormat",function(e){"undefined"!=typeof e&&(h=e,p())}),f.$observe("amPreprocess",function(e){z=e,p()}),a.$on("$destroy",function(){l()}),a.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(n,t,o,i){this.preprocessors={utc:n.utc,unix:n.unix},this.changeLocale=function(o,i){var r=n.locale(o,i);return e.isDefined(o)&&t.$broadcast("amMoment:localeChanged"),r},this.changeTimezone=function(e){i.timezone=e,t.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(t,r,a){return e.isUndefined(r)&&(r=i.preprocess),this.preprocessors[r]?this.preprocessors[r](t,a):(r&&o.warn("angular-moment: Ignoring unsupported value for preprocess: "+r),!isNaN(parseFloat(t))&&isFinite(t)?n(parseInt(t,10)):n(t,a))},this.applyTimezone=function(e){var n=i.timezone;return e&&n&&(e.tz?e=e.tz(n):o.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),e}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,t){function o(t,o){if("undefined"==typeof t||null===t)return"";t=n.preprocessDate(t,o);var i=e(t);return i.isValid()?n.applyTimezone(i).calendar():""}return o.$stateful=t.statefulFilters,o}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,t){function o(t,o,i,r,a,u){if("undefined"==typeof t||null===t)return"";t=n.preprocessDate(t,a);var f=e(t);if(!f.isValid())return"";var m;if("undefined"==typeof o||null===o)m=e();else if(o=n.preprocessDate(o,u),m=e(o),!m.isValid())return"";return n.applyTimezone(f).diff(n.applyTimezone(m),i,r)}return o.$stateful=t.statefulFilters,o}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,t){function o(t,o,i){if("undefined"==typeof t||null===t)return"";t=n.preprocessDate(t,i);var r=e(t);return r.isValid()?n.applyTimezone(r).format(o):""}return o.$stateful=t.statefulFilters,o}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function t(n,t,o){return"undefined"==typeof n||null===n?"":e.duration(n,t).humanize(o)}return t.$stateful=n.statefulFilters,t}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,t){function o(t,o,i){if("undefined"==typeof t||null===t)return"";t=n.preprocessDate(t,o);var r=e(t);return r.isValid()?n.applyTimezone(r).fromNow(i):""}return o.$stateful=t.statefulFilters,o}])}"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports?e(angular,require("moment")):e(angular,window.moment)}();
!function(){var e=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1},t=function(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])};if(window.XMLHttpRequest){if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};t("open",function(e){return function(t,i,s){n(this),this.__url=i;try{e.apply(this,[t,i,s])}catch(a){a.message.indexOf("Access is denied")>-1&&e.apply(this,[t,"_fix_for_ie_crossdomain__",s])}}}),t("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),t("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),t("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),t("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var s=i(this);s instanceof Function&&s(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),t("send",function(t){return function(){var n=this;if(arguments[0]&&arguments[0].__isShim){var i=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,t){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==t.status&&Object.defineProperty(n,"status",{get:function(){return 0==t.status&&e&&"abort"!==e?500:t.status}}),void 0!==t.statusText&&Object.defineProperty(n,"statusText",{get:function(){return t.statusText}}),Object.defineProperty(n,"readyState",{get:function(){return 4}}),void 0!==t.response&&Object.defineProperty(n,"response",{get:function(){return t.response}});var i=t.responseText||(e&&0==t.status&&"abort"!==e?e:void 0);Object.defineProperty(n,"responseText",{get:function(){return i}}),Object.defineProperty(n,"response",{get:function(){return i}}),e&&Object.defineProperty(n,"err",{get:function(){return e}}),n.__fileApiXHR=t,n.onreadystatechange&&n.onreadystatechange()},fileprogress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},1e4)}},headers:n.__requestHeaders};s.data={},s.files={};for(var a=0;a<i.data.length;a++){var r=i.data[a];null!=r.val&&null!=r.val.name&&null!=r.val.size&&null!=r.val.type?s.files[r.key]=r.val:s.data[r.key]=r.val}setTimeout(function(){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else t.apply(n,arguments)}})}else t("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}});window.XMLHttpRequest.__isShim=!0}if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(t){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var n=angular.element(t);if(!(n.attr("disabled")||n.hasClass("js-fileapi-wrapper")||null==t.getAttribute("ng-file-select")&&null==t.getAttribute("data-ng-file-select")))if(FileAPI.wrapInsideDiv){var i=document.createElement("div");i.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"></div>',i=i.firstChild;var s=t.parentNode;s.insertBefore(i,t),s.removeChild(t),i.appendChild(t)}else n.addClass("js-fileapi-wrapper"),n.parent()[0].__file_click_fn_delegate_&&((""===n.parent().css("position")||"static"===n.parent().css("position"))&&n.parent().css("position","relative"),n.css("top",0).css("bottom",0).css("left",0).css("right",0).css("width","100%").css("height","100%").css("padding",0).css("margin",0),n.parent().unbind("click",n.parent()[0].__file_click_fn_delegate_))},s=function(e){return function(t){for(var n=FileAPI.getFiles(t),i=0;i<n.length;i++)void 0===n[i].size&&(n[i].size=0),void 0===n[i].name&&(n[i].name="file"),void 0===n[i].type&&(n[i].type="undefined");t.target||(t.target={}),t.target.files=n,t.target.files!=n&&(t.__files_=n),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null},e&&e.apply(this,[t])}},a=function(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(e){return function(t,n,r,l){a(this,t)?(i(this),e.apply(this,[t,s(n),r,l])):e.apply(this,[t,n,r,l])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(e){return function(t,n){a(this,t)?(i(this),window.jQuery?angular.element(this).bind("change",s(null)):e.apply(this,[t,s(n)])):e.apply(this,[t,n])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(e,t,n){this.data.push({key:e,val:t,name:n})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var t,n,i,s,a,r=document.createElement("script"),l=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)t=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)n=window.FileAPI.jsPath;else for(i=0;i<l.length;i++)if(a=l[i].src,s=a.indexOf("angular-file-upload-shim.js"),-1==s&&(s=a.indexOf("angular-file-upload-shim.min.js")),s>-1){n=a.substring(0,s);break}null==FileAPI.staticPath&&(FileAPI.staticPath=n),r.setAttribute("src",t||n+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(r),FileAPI.hasFlash=e()}}(),FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){if(t||(t=!0,e.onloadstart&&this.onloadstart(n("loadstart",i))),"load"===i.type){e.onloadend&&e.onloadend(n("loadend",i));var s=n("load",i);e.onload&&e.onload(s),e.dispatchEvent(s)}else if("progress"===i.type){var s=n("progress",i);e.onprogress&&e.onprogress(s),e.dispatchEvent(s)}else{var s=n("error",i);e.onerror&&e.onerror(s),e.dispatchEvent(s)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}})}();
!function(){"use strict";var n="messagingApp";angular.module(n,["ngAnimate","ngSanitize","flAnalytics","flCookies","configs","flApi","flApiTranslations","flAuth","flMessaging","flUi","flUtils","flOnlineOffline","angularMoment","btford.modal","templates-messagingApp"]).config(["TranslationsProvider",function(n){n.translate("gaf|messaging")}]).config(["$interpolateProvider",function(n){n.startSymbol("{[{"),n.endSymbol("}]}")}]).constant("angularMomentConfig",{preprocess:"unix"}).constant("dsdSupportUsers",[14287348,14287425,14287462,14287488,14287510,14287528,14287583,14287597,14287636,14287661,14287722,14287830]).constant("chatboxSoundResources",{message:"/sounds/message.mp3",ringing:"/sounds/videochat-calling.mp3"}).constant("chatboxSizeLimits",{minHeight:300,maxWidth:620,minWidth:280}).constant("messageListBottomScrollThreshold",50).constant("hiddenChatboxClass","is-offscreen").constant("abTestAlwaysTreat",[3742760,4170232,6701064,8239536,8346162,9135531,9401593,9507942,9721739,9721896,9721971,11051688,11128867,11135551,11451155]).constant("abTestNeverTreat",[8346170,9721757,11129151,11203463]).constant("newChatboxShadowReleaseUsers",[10100668,10353711,10444408,1060886,10662421,1076845,11179238,11296619,11505770,11534367,1289625,13094530,13412763,13518947,1894202,2570675,2731480,3134923,3582030,3628456,4059134,4111214,4271323,4424971,6701062,6701064,6724392,7189655,7311232,7334012,7491345,8989967,9380828,9401593,9401593,9507942,4218709,4215217,4170232,9135531,1077653,1082831,512294,10508454,13803996,2681321,10174132,3742760,8346162,10815126]).constant("ABTestAutomaticPayment",function(){return window.ABTestAutomaticPayment}).run(["TranslationModal","CookieStore","TRANSLATE_MODE_COOKIE",function(n,t,e){n.setTranslationMode("1"===t.get(e))}]),angular.module("templates-messagingApp",[]),angular.element(document).ready(function(){var t=angular.element(document.querySelector('[fl-app="'+n+'"]'));t&&!t.injector()&&(angular.bootstrap(t,[n]),angular.element(document).trigger("messagingApp.injected"))}),angular.module("messagingApp").controller("chatboxCtrl",["$scope",function(n){this.$scope=n}])}();
"use strict";angular.module("messagingApp").factory("Attachments",function(){return function(){var n=[],t=function(t){a.contains(t)||n.push(t)},a={get:function(){return n},add:function(n){n instanceof Array||n instanceof FileList?angular.forEach(n,function(n){t(n)}):t(n)},remove:function(t){angular.forEach(n,function(a,r){a.name===t.name&&n.splice(r,1)})},clear:function(){n=[]},isEmpty:function(){return 0===n.length},contains:function(t){var a=!1;return angular.forEach(n,function(n){t.name===n.name&&(a=!0)}),a}};return a}});
"use strict";angular.module("messagingApp").constant("AttachmentUploadsSettings",{UploadCompletedTimeout:5e3}).directive("attachmentUploads",["$timeout","AttachmentUploadsSettings",function(t,a){return{restrict:"A",scope:{},templateUrl:"/static/angularjs/messaging/templates/attachmentUploads.html",link:function(n){var o,e=function(){o&&t.cancel(o),o=t(function(){n.uploadTotal=0},a.UploadCompletedTimeout)},l=function(t,a){n.uploadProgress=t.loaded,n.uploadTotal=t.total,n.uploadFileNames=a.map(function(t){return t.name}),n.uploadTotal===n.uploadProgress&&e()};n.uploadTotal=0,n.$on("attachments.uploadPromise",function(t,a){a.then(function(){},function(){},function(t){l(t,a.attachments)})})}}}]).filter("uploadTitle",function(){return function(t,a){var n="";return n=a!==t?"File uploading":"File uploaded"}});
"use strict";angular.module("messagingApp").directive("chatBox",function(){return{scope:{},replace:!0,templateUrl:"/static/angularjs/messaging/templates/chatBox.html",controller:"messagingCtrl",link:function(t,e,a,n){n.init(e,a)}}});
"use strict";angular.module("messagingApp").directive("chatboxSettings",function(){return{scope:!0,templateUrl:"/static/angularjs/messaging/templates/chatboxSettings.html",controller:"chatboxSettingsController",controllerAs:"settings"}}).controller("chatboxSettingsController",["$scope","Auth","SoundSettings","MuteModal","MessagingAbTests","MESSAGING_APPLICATION_ERRORS",function(t,e,i,o,n,s){this.soundSettings=i,this.soundSettings.loadSettings(),this.toggleMute=function(){t.thread.isMuted()?t.thread.unmute():o.show(t)},this.toggleArchive=function(){t.thread.isArchived()?t.thread.unarchive():t.thread.archive().then(function(){t.closeChat()})},this.startVideochat=function(){if(!t.videochat.openVideochatWindow()){var e=t.videochat.getError();switch(e){case s.duplicateVideochat:case s.unsupportedBrowser:t.addInlineError(void 0,e)}}t.toggleSettings()}}]);
"use strict";angular.module("messagingApp").factory("AssistedSupport",["Auth",function(t){return function(s){var r=s.getUser(t.getUserId()).get(),e=s.getOtherUsers()[0];return{isOtherDsd:function(){return e&&e.support_status&&"technical"===e.support_status.type},_isUserAssisted:function(t){return t&&t.support_status&&"assisted"===t.support_status.type},isOtherAssisted:function(){return this._isUserAssisted(e)},isSelfAssisted:function(){return this._isUserAssisted(r)},isOtherSupport:function(){return!!e.support_status},isSelfSupport:function(){return!!r.support_status},getOtherSupportName:function(){return this.isOtherSupport()&&e.support_status.short_name?e.support_status.short_name:e.username},getSelfSupportName:function(){return this.isSelfSupport()&&r.support_status.short_name?r.support_status.short_name:r.username},isSupport:function(){return this.isOtherSupport()||this.isSelfSupport()}}}}]);
"use strict";angular.module("messagingApp").directive("chatboxHeader",function(){return{scope:!1,replace:!1,templateUrl:"/static/angularjs/messaging/templates/chatboxHeader.html",controller:"chatboxHeaderController"}}).controller("chatboxHeaderController",["$scope",function(t){t.userProfileUrl=function(){var e,o=t.chattingTo();if(o){e="/u/"+o.username+".html";var r=t.thread.getProject();r&&r.get()&&r.get().id&&(e+="?ref_project_id="+r.get().id)}return e},t.headerMinimise=function(e){e.stopPropagation(),"chatbox-header-contents"===e.target.getAttribute("data-target")&&t.toggleMinimise()},t.toggleSettings=function(e){t.showSettings=!t.showSettings,e&&e.stopPropagation()},t.clickedClose=function(e){e&&e.stopPropagation(),t.closeChat()},t.buttonMinimise=function(e){t.toggleMinimise(),e&&e.stopPropagation()}}]);
"use strict";angular.module("messagingApp").service("MuteModal",["$document","btfModal",function(t,e){var a,n={show:function(n){var i=t.find("#pinky-container");a&&a.deactivate();var o=function(){this.closeMuteModal=function(){a.deactivate()},this.muteThread=function(){n.thread.mute(),n.thread.archive().then(function(){n.closeChat()}),a.deactivate()}};a=e({controller:o,controllerAs:"modal",templateUrl:"/static/angularjs/messaging/templates/muteModal.html",container:i}),a.activate()}};return n}]);
"use strict";angular.module("messagingApp").factory("ChatManager",["$animate","$document","$rootScope","$timeout","$window","Auth","MessagingCookiesStorage","Notifications","Threads","hiddenChatboxClass","MessagingAbTests",function(t,e,a,n,i,s,r,o,h,d){var c,u=function(t){var a=t.getBoundingClientRect(),n=i.innerHeight||e.documentElement.clientHeight,s=1;return a.top+s<=n};o.listen("messages","video:request"),a.$on("messages:video:request",function(t,e){if(e=e.data,e.user_id!==s.getUserId()){var n=e.thread_id,i=e.session_id;l.isOpen(n)?a.$broadcast("chatbox:video:request",{threadId:n,sessionId:i}):l.openChatForThread(n,i)}});var l={openChatForThread:function(t,e){return h.getById(t,{user_details:!0}).then(function(t){var a=t.get(),n=t.getOtherUsers()[0],i=t.getProject().get(),s=i?i.id:void 0,r={projectId:s,otherUserId:n.id,otherUsername:n.username,threadId:a.id,threadType:a.thread.thread_type,threadContext:a.thread.context};e&&(r.videochatSessionId=e),l.openChat(r)})},openChat:function(t){var e=i.liveChat;e.start_chat(t.projectId,t.otherUserId,t.otherUsername,t.threadId,t.threadType,t.threadContext,t.source,t.videochatSessionId)},minimiseChat:function(t){t.markRead(),r.minimiseChat(t.get().id),this.blurAllChats()},unMinimiseChat:function(t){r.unMinimiseChat(t.get().id)},isMinimised:function(t){var e,a=t.get().id,n=r.getMinimisedChats();for(e=0;e<n.length;e++)if(parseInt(n[e],10)===a)return!0;return!1},isOpen:function(t){var e=t.toString(),a=Object.keys(i.liveChat.chats);return a.some(function(t){return t===e})},focusChat:function(t){c=t.chatHash(),r.setFocusedChat(t.get().id)},blurAllChats:function(){c=void 0,r.unfocusChat()},isFocused:function(t){if(c)return t.chatHash()===c;var e=t.get().id;return e&&r.getFocusedChat()===e?!0:!1},closeChat:function(t){var e=i.liveChat.chats,a=i.liveChat.new_chats,n=i.liveChat.chat_map,s=t.get().id,o=t.chatHash();s&&e[s]&&(e[s].$el.remove(),delete e[s],t.markRead(),r.removeChat(s)),a[o]&&(a[o].$el.remove(),delete a[o]),n[o]&&delete n[o],!s||s!==r.getFocusedChat()&&o!==c||this.blurAllChats(),this.syncFocusedStates(),this.organiseHiddenStates()},getAngularChats:function(){var t=[];return angular.forEach(i.liveChat.el.children(),function(e){t.push(angular.element(e))}),t},getChats:function(){var t=[];return angular.forEach(i.liveChat.el.children(),function(e){t.push(e)}),t},syncFocusedStates:function(){var t=this.getAngularChats();if(!c&&!r.getFocusedChat()&&t.length>0){var e=t[0].isolateScope().thread;this.focusChat(e)}for(var a=0;a<t.length;a++){var n=t[a].isolateScope();this.isFocused(n.thread)&&n.focus()}},addChat:function(t){var e=t.get().id;e&&r.addChat(e)},getChatElement:function(t){var e=i.liveChat.new_chats,a=i.liveChat.chats,n=i.liveChat.chat_map,s=t.chatHash(),r=a[n[s]]||e[s];return r.$el},moveToFront:function(e){var a=this.getChatElement(e),s=i.liveChat.el,r=a.isolateScope();u(a[0])||(t.move(a,s),n(),a[0].classList.remove(d)),r.focus()},hideOldChatboxes:function(){var t=this.getChats(),e=t.filter(function(t){return!t.classList.contains(d)});if(0!==e.length)for(var a=t[0],n=a.getBoundingClientRect(),i=n.left<0,s=e.length-1;i&&(e[s].classList.add(d),n=a.getBoundingClientRect(),i=n.left<0,s--,!(0>=s)););},showExtraChatboxes:function(){var t=this.getChats(),e=t.filter(function(t){return t.classList.contains(d)});if(0!==e.length)for(var a=t[0],n=a.getBoundingClientRect(),s=i.getComputedStyle(a),r=parseInt(s["margin-left"],10)+parseInt(s["margin-right"],10),o=0,h=e[o],c=h.getBoundingClientRect(),u=c.width+r,l=n.left>u;l&&(e[o].classList.remove(d),n=a.getBoundingClientRect(),o++,!(o>=e.length));)h=e[o],c=h.getBoundingClientRect(),u=c.width+r,l=n.left>u},organiseHiddenStates:function(){this.hideOldChatboxes(),this.showExtraChatboxes()}};return l}]);
"use strict";angular.module("messagingApp").service("ChatSound",["SoundSettings","chatboxSoundResources",function(e,n){var a=new Audio(n.message);a.load(),e.loadSettings();var o={play:function(){if(e.soundsEnabled()){var n=a.cloneNode();n.play()}}};return o}]);
"use strict";angular.module("messagingApp").factory("RingingSound",["SoundSettings","chatboxSoundResources",function(n,o){var u=!1,t=new Audio(o.ringing);return t.loop=!0,t.load(),{play:function(){u=!0,n.loadSettings().then(function(){u&&n.soundsEnabled()&&t.play()})},pause:function(){u=!1,t.pause()}}}]);
"use strict";angular.module("messagingApp").factory("SoundSettings",["$http",function(n){var t=null,e=null,a={loadSettings:function(){return e||(e=n.get("/ajax/notify/get_notify_prefs.php").then(function(n){var t;return angular.forEach(n.data.msg,function(n){"messages"===n.notification_type&&(t=n)}),t}),e.then(function(n){t=n})),e},toggleSounds:function(){if(t){t.enabled=!t.enabled;var e="settings="+JSON.stringify([t]),a={method:"POST",url:"/ajax/notify/set_notify_prefs.php",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}};return n(a)}},soundsEnabled:function(){return t&&t.enabled}};return a}]);
"use strict";angular.module("messagingApp").factory("AwardModalInfoService",["$http",function(e){function r(e,r,t,n){var o;o=t?(e*r).toFixed(2):(r*(e/100)).toFixed(2);var i=o;return(t||n)&&"0.00"===o&&(i=""),{initMilestone:o.toString(),milestone_amount:i.toString()}}return{fetchInfoFromScript:function(t,n){return e({method:"POST",url:"/users/messages/on_messages.php",transformRequest:function(e){var r=[];for(var t in e)e.hasOwnProperty(t)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r.join("&")},data:{project_id:t.id,target_uid:n.id},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data,n=parseInt(t.milestone_percentage,10),o=r(n,t.sum,t.isHourlyProject,t.isFullTimeProject);return{is_selected:!1,users_id:t.users_id,username:t.bidderUsername,currency:t.currency,currencySign:t.currency.sign,currencyCode:t.currency.code,project_id:t.project_id,amount:t.sum,initMilestone:o.initMilestone,track_cat:"messaging_chatbox",convertAmount:0,show_award_fee:t.showAwardFee,user_balances:t.userBalances,is_hourly:t.isHourlyProject,is_fulltime:t.isFullTimeProject,buyer_fee_per_dollar:t.buyerFeePerDollar,buyer_min_project_fee:t.buyerMinProjectFee,forceShowModal:!1,isAffiliateWidget:t.isAffiliateWidget,milestone_amount:o.milestone_amount}})}}}]);
"use strict";angular.module("messagingApp").controller("contextBoxCtrl",["$scope","$q","$timeout","$window","ContextBoxStateManager","Auth","ModalManager","projectNegotiated","ABTestAutomaticPayment",function(e,t,n,o,r,i,a,c,u){function d(e){return"/static/angularjs/messaging/templates/contextBox/"+e+".html"}function f(t){t!==C&&(C=t,e.onLoadCallback=function(){var e=P[C];e&&e()},e.template=d(t))}function s(){if(R)return t.when();var n=y.get(),o=e.thread.get().thread.members,r=i.getUserId(),a=o.filter(function(e){return e!==r});return e.thread.fetchUserDetails().then(function(){var t=e.thread.getUsers();R={me:t[r],others:a.filter(function(e){return e!==r}).map(function(e){return t[e]})},n&&(R.bidder=t[n.bidder_id],R.employer=t[n.project_owner_id])})}function l(){return e.thread.fetchBidDetails().then(function(){return y=e.thread.getBid(),y.get()&&"undefined"!=typeof y.get().id?(e.rawBid=y.get(),t.all(y.getMilestones().then(function(e){A=e}),y.getMilestoneRequests().then(function(e){b=e}))):t.when()})}function h(){return e.thread.fetchProjectDetails({negotiated_details:!0}).then(function(){return _=e.thread.getProject(),_.get()&&"undefined"!==_.get().id&&(e.project=_.get(),e.project.negotiated===!0&&angular.isObject(e.project.negotiated_bid)&&(e.project.negotiated=c(e.project.negotiated_bid.negotiated_offer.status.toUpperCase()))),t.when()})}function p(){return e.thread.fetchContestDetails().then(function(){return B=e.thread.getContest(),B.get()&&"undefined"!==B.get().id&&(e.contest=B.get()),t.when()})}function g(){return"project"===e.thread.get().thread.context.type.toLowerCase()?h():"contest"===e.thread.get().thread.context.type.toLowerCase()?p():t.when()}function m(e){var t=angular.element(j[0].querySelector('[data-target="chatbox-context-button"]'));t.on("click",e)}var j,w,C,y,A,b,_,B,x,R;e.ABTestAutomaticPayment=u();var P={hireme:function(){m(function(){a.hireme(R.others[0])})},hiremeRehire:function(){m(function(){a.hireme(R.others[0])})},projectAward:function(){o._ttref.push(["_clearEntrypoint","AWARDPROJECT"]),o._ttref.push(["_setCookie","AWARDPROJECT_CHAT"]),o._ttref.push(["_trackEvent","AWARDPROJECT","Show",o.location.pathname]),a.award(j,e.project,e.rawBid,R.bidder)},projectAccept:function(){m(function(){e.ctaDisabled=!0,y.accept()["finally"](function(){e.ctaDisabled=!1})})},milestoneCreate:function(){m(function(){a.milestone.create("create",e.project,R.bidder)})},milestoneCreateInitial:function(){m(function(){a.milestone.create("initial",e.project,R.bidder)})},milestoneCreateFromRequest:function(){m(function(){a.milestone.create("request",e.project,R.bidder)})},milestoneRequest:function(){m(function(){a.milestone.request(e.project,e.rawBid,R.employer)})},negotiatedBuyerEmployerPending:function(){m(function(){o.location.href="/negotiated-project/view-offer.php?id="+e.project.id})},negotiatedSellerFreelancerPending:function(){m(function(){o.location.href="/negotiated-project/make-offer.php?id="+e.project.id})},negotiatedSellerEmployerAccepted:function(){m(function(){o.location.href="/projects/"+e.project.id+".html"})},negotiatedSellerEmployerRequested:function(){m(function(){o.location.href="/negotiated-project/make-offer.php?id="+e.project.id})}};this.init=function(t){j=angular.element(t),w=j.find("aside"),e.threadPromise.then(function(){l().then(function(){s().then(function(){g().then(function(){var t=r.ContextBoxStateManagerFactory(y,A,b,_,B,e.assistedSupport);x=e.$watchGroup(["rawBid.award_status","project.negotiated.getState()"],function(){f(t.getState())}),e.$on("$destroy",function(){x()})})})})})}}]);
"use strict";angular.module("messagingApp").directive("chatboxContextBox",function(){return{scope:!1,restrict:"A",controller:"contextBoxCtrl",link:function(t,n,e,o){o.init(n)},template:'<ng-include src="template" onload="onLoadCallback()"></ng-include>'}});
"use strict";angular.module("messagingApp").factory("ContextBoxStateManager",function(){return{ContextBoxStateManagerFactory:function(e,t,r,n,i,o){var a,l,d,c,s={hireme:"hireme",hiremeRehire:"hiremeRehire",projectContext:"projectContext",contestContext:"contestContext",award:"projectAward",accept:"projectAccept",createMilestone:"milestoneCreate",createInitialMilestone:"milestoneCreateInitial",createMilestoneFromRequest:"milestoneCreateFromRequest",requestMilestone:"milestoneRequest",madeCounterOffer:"counterOfferMade",receivedCounterOffer:"counterOfferReceived",none:"blank",negotiated:{buyer:{freelancerPending:"negotiatedBuyerFreelancerPending",employerPending:"negotiatedBuyerEmployerPending",employerRequested:"negotiatedBuyerEmployerRequested"},seller:{freelancerPending:"negotiatedSellerFreelancerPending",employerPending:"negotiatedSellerEmployerPending",employerAccepted:"negotiatedSellerEmployerAccepted",employerRequested:"negotiatedSellerEmployerRequested",employerRejected:"negotiatedSellerEmployerRejected"}}};return a=n?n.get():{},l=i?i.get():{},d=t?t.get():[],c=r?r.get():[],{getState:function(){if(o&&o.isSupport())return s.none;if(angular.isObject(l)&&"active"===l.status)return s.contestContext;if(angular.isObject(a)&&angular.isObject(a.negotiated)&&angular.equals(a.status,"draft")){var t=a.negotiated;if(n.isOwner()){if(t.isFreelancerPending())return s.negotiated.buyer.freelancerPending;if(t.isEmployerPending())return s.negotiated.buyer.employerPending;if(t.isEmployerRequested())return s.negotiated.buyer.employerRequested}else{if(t.isFreelancerPending())return s.negotiated.seller.freelancerPending;if(t.isEmployerPending())return s.negotiated.seller.employerPending;if(t.isEmployerAccepted())return s.negotiated.seller.employerAccepted;if(t.isEmployerRequested())return s.negotiated.seller.employerRequested;if(t.isEmployerRejected())return s.negotiated.seller.employerRejected}return s.projectContext}return void 0===e.get()?s.hireme:e.canBeAwarded()?s.award:e.canBeAccepted()?s.accept:e.canCreateMilestone()?c.length>0?s.createMilestoneFromRequest:0===d.length?s.createInitialMilestone:s.createMilestone:e.canRequestMilestone()?s.requestMilestone:e.canReHire()?s.hiremeRehire:s.projectContext},getAwardedState:function(){return e.get()?e.isAwarded():!1}}}}});
"use strict";angular.module("messagingApp").factory("ModalManager",["$window","$document","AwardModalInfoService","ModalTrackingUtils","OnlineOffline",function(e,n,r,t,o){var i=e.liveChat.bidActionModals,a={old:"#ns_wrapper>.ns_global_root>#message","new":"#global_modal_root>#message"};return{award:function(e,n,t,o){var d=document.querySelector(a.new);d||(d=document.querySelector(a.old)),r.fetchInfoFromScript(n,o).then(function(r){var t=document.createElement("div");t.id="awardmodal_"+n.id.toString()+"_"+o.id.toString(),d.appendChild(t);var a=angular.element(t),l=new i.award.lib(a,"message_chatbox"),c={renderAwardBox:!1};i.award.secondLib.render("award",e,void 0,r,l,a,void 0,void 0,c),a.html(i.award.template(r))})},milestone:{create:function(e,n,r,o){i.milestone.create.initModal({projectId:n.id,bidderId:r.id,callback:function(n,r){r&&(t.milestone(e,r),o&&"function"==typeof o&&o(n))}}),t.milestone(e,!1)},request:function(e,n,r){i.milestone.request.initModal({projectId:n.project_id,bidId:n.id,bidderId:null,employerUsername:r.username,currencyDetails:e.currency},function(e,n){n&&t.milestone("createRequest",n)}),t.milestone("createRequest",!1)}},hireme:function(n){o.subscribe(n.id),e.liveChat.showHiremeModal({username:n.username,userID:n.id,hourlyrate:n.hourly_rate,is_online:o.getState(n.id).isOnline(),projectFee:!1})}}}]);
"use strict";angular.module("messagingApp").factory("ModalTrackingUtils",["Analytics",function(e){var t={create:"MilestoneCreate",initial:"MilestoneCreate",request:"MilestoneCreate_FromRequest",createRequest:"MilestoneRequest"};return{milestone:function(i,n){"undefined"==typeof n&&(n=!1);var o=n?"form_submit":"form_open";i=t[i]||i,e.trackEvent("ChatBox",i,void 0,"click",void 0,o)}}}]);
"use strict";angular.module("messagingApp").controller("messagingCtrl",["$animate","$document","$log","$scope","$q","$timeout","$window","AssistedSupport","Auth","Arrays","Attachments","ChatManager","ChatSound","GAFInteraction","MessagingAbTests","RingingSound","Threads","VideochatFactory","chatboxSizeLimits",function(e,t,a,i,n,r,o,s,d,c,h,u,l,m,g,f,p,v,x){function I(e,t,a){var n={title:t,message:a},r=i.thread.get().messages[0];r&&a&&("error"===e?c.addNonDuplicate(r.errors,n):"alert"===e&&c.addNonDuplicate(r.alerts,n))}var C=this,M=n.defer();i.threadPromise=M.promise,this.init=function(e,t){if(C.el=e,i.thread=p.createEmptyThread(t.threadType,t.contextType,parseInt(t.contextId,10),[{id:d.getUserId()},{id:t.otherUserId,username:t.otherUserName}]),t.threadId&&(i.thread.get().id=parseInt(t.threadId,10)),i.threadPromise.then(function(){u.addChat(i.thread),i.newMessageWatcher(),i.thread.fetchUserDetails().then(function(){i.assistedSupport=s(i.thread)}),u.isFocused(i.thread)&&i.focus(),i.thread.isRead()||(i.alertNewMessages=!0),i.sizeLimitCache={};var e=i.thread.get();if(e&&e.id&&(C.updateVideochatEnabled(),i.videochat=v(e),i.inboundVideocallWatcher(),t.videochatSessionId)){var a=parseInt(t.videochatSessionId,10);i.videochat.setIncomingCall(a)}var n=i.thread.chatHash();o.autoChatPromise&&o.autoChatPromise[n]&&o.autoChatPromise[n].resolve(i.thread.get().messages)}),i.isFocused=function(){return u.isFocused(i.thread)},i.alertNewMessages=!1,i.droppingFile=!1,i.showSettings=!1,i.minimised=u.isMinimised(i.thread),i.attachments=new h,i.onFileSelect=function(e){i.attachments.add(e);var t=i.message;t&&0!==t.trim().length||(t="Attachment:");var a=i.attachments.get();i.thread.sendMessage(t,a),i.attachments.clear()},t.threadId)p.getById(parseInt(t.threadId,10),{message_details:!0,user_details:!0,context_details:!0,unread_count:!0}).then(function(e){i.thread=e,C.handleMessageNotifications(),M.resolve(e)}).catch(function(e){return i.thread.error=e.humanError,e.humanError&&(i.thread.error.title+=" fetching your conversation"),M.reject(e),n.reject(e)});else{var a={"members[]":[parseInt(t.otherUserId,10)],"thread_types[]":t.threadType,user_details:!0,message_details:!0,unread_count:!0,context_details:!0};t.contextType&&t.contextId&&(a["contexts[]"]=[t.contextId],a.context_type=t.contextType,a.context_details=!0),p.getList(a).then(function(e){e.getList().length>0?(i.thread=e.getList()[0],M.resolve()):(a={avatar:!0},i.thread.fetchUserDetails(a).then(function(){M.resolve()}))}).catch(function(e){return i.thread.error=e.humanError,e.humanError&&(i.thread.error.title+=" fetching your conversation"),n.reject(e)})}},this.handleMessageNotifications=function(){var e,t,a;for(t=o.liveChat.messageNotifications||[],e=0;e<t.length;e++)if(a=t[e],i.thread.get().id===a.thread_id){i.thread.getMessages().upsertMessage(a),t.splice(e,e+1);break}},i.myUserId=d.getUserId(),i.clickedChat=function(){if(i.alertNewMessages=!1,i.thread.markRead(),i.minimised)return void i.unMinimise();var e;window.getSelection&&window.getSelection()?e=window.getSelection().toString():document.selection&&"Text"===document.selection.type&&(e=document.selection.createRange().text),e&&""!==e||i.focus()},i.chattingTo=function(){return i.thread?i.thread.getOtherUsers()[0]:void 0},i.toggleMinimise=function(){i.minimised?i.unMinimise():i.minimise()},i.focus=function(){u.focusChat(i.thread),i.minimised||i.$broadcast("focusTypingBox")},i.closeChat=function(){u.closeChat(i.thread),f.pause(),i.$destroy()},i.unMinimise=function(){u.unMinimiseChat(i.thread),e.removeClass(C.el,"is-minimized").then(function(){r(function(){i.minimised=!1,i.focus()})})},i.minimise=function(){u.minimiseChat(i.thread),i.minimised=!0,e.addClass(C.el,"is-minimized")},i.addInlineAlert=function(e,t){I("alert",e,t)},i.addInlineError=function(e,t){I("error",e,t)},i.onDragEnter=function(){i.droppingFile=!0},i.onDragLeave=function(){i.droppingFile=!1},i.onDocumentResize=function(){i.sizeLimitCache={}},angular.element(window).on("resize",function(){u.organiseHiddenStates()}),i.maxChatboxHeight=function(){var e=i.sizeLimitCache.maxHeight;if(!e){var t=m.getHeightOfNavBar();e=document.documentElement.clientHeight-t,i.sizeLimitCache.maxHeight=e}return e},i.onDragLeft=function(e,t){var a=C.el[0],n=e+t,r=x;n=t>0?Math.min(r.maxWidth,n):Math.max(r.minWidth,n),a.style.width=n.toString()+"px",i.$broadcast("chatbox:forceBottomScroll")},i.onDragTop=function(e,t){var a=C.el[0],n=e+t;n=t>0?Math.min(i.maxChatboxHeight(),n):Math.max(x.minHeight,n),a.style.height=n.toString()+"px",i.$broadcast("chatbox:forceBottomScroll")},i.newMessageWatcher=function(){var e=d.getUserId();i.$watch("thread.getMessages().get()[0]",function(a,n){var r=!1;a&&!n?r=!0:a&&n&&a.id!==n.id&&a.from_user!==e&&(r=!0);var o=t[0].hasFocus();r&&(i.isFocused()&&o?i.thread.markRead():(i.alertNewMessages=!0,l.play()))})},i.inboundVideocallWatcher=function(){i.$watch(i.videochat.getCallRequested,function(e){e?f.play():f.pause()})},i.$on("chatEnterText",function(){i.alertNewMessages=!1}),i.$on("chatbox:video:request",function(e,t){if(i.videochat){var a=i.thread.get().id;a===t.threadId&&i.videochat.setIncomingCall(t.sessionId)}}),i.$on("chatbox:video:missedcall",function(e,t){t.thread_id===i.thread.get().id&&(i.addInlineAlert(void 0,"You missed a call from this person."),r(angular.noop))}),i.videochatEnabled=!1,this.updateVideochatEnabled=function(){var e,t=d.getUserId();i.thread.getProject()&&i.thread.getProject().get()&&(e=i.thread.getProject().get().owner_id),i.videochatEnabled=g.treatVideochat(t,e)}}]);
"use strict";angular.module("messagingApp").directive("flDragEvents",function(){return{scope:!1,link:function(n,e,r){var a=0;e.bind("dragenter",function(){0===a++&&n.$apply(r.flDragEventsEnter)}),e.bind("dragleave",function(){a--,0===a&&n.$apply(r.flDragEventsLeave)}),e.bind("drop",function(){a=0,n.$apply(r.flDragEventsDrop)})}}});
"use strict";angular.module("messagingApp").directive("flImagesLoaded",function(){return{transclude:!0,scope:{callbackFunc:"=flImageLoadedCallback",errorCallbackFunc:"=flImageErrorCallback"},link:function(a,i){function n(a){return void 0!==typeof a.naturalWidth&&a.naturalWidth>0}function e(a){return"img"===a.tagName.toLowerCase()}if("undefined"==typeof a.firstRun&&(a.firstRun=!1,a.loaded=!1,a.failed=!1,a.initialised=!1),!a.loaded&&!a.failed){var l=i[0];if(!e(l))return a.initialised=!0,void(a.failed=!0);if(n(l))return a.callbackFunc(),a.loaded=!0,void(a.initialised=!0);var r=l.onload,o=l.onerror;l.onload=function(){a.loaded=!0,a.callbackFunc&&a.callbackFunc(),r&&r()},l.onerror=function(){a.failed=!0,a.errorCallbackFunc&&a.errorCallbackFunc(),o&&o()},a.initialised=!0}}}});
"use strict";angular.module("messagingApp").factory("MessagingCookiesStorage",["$log","Auth","CookieStore",function(n,e,i){function t(){o(f.focused,""),o(f.open,""),o(f.minimised,"")}function o(n,e){return i.put(n,e,{path:"/"})}function r(e){var t=i.get(e);try{return t?angular.fromJson(t):void 0}catch(o){return void n.error("Cookie "+e+" has invalid JSON",o)}}function u(n,e){return o(n,angular.toJson(e))}function s(){var n=i.get(f.focused);return isNaN(n)?void 0:parseInt(n,10)}function a(n,e){var t=angular.fromJson(i.get(n));t||(t=[]);var o=t.indexOf(e);o>-1&&(t.splice(o,1),u(n,t))}function c(n,e){var i=r(n);i||(i=[]);var t=i.indexOf(e);-1===t&&(i.push(e),u(n,i))}var f={focused:"focused_chat",user:"chat_user",open:"current_chats",minimised:"minimised_chats"};return{setFocusedChat:function(n){n&&o(f.focused,n)},unfocusChat:function(){o(f.focused,"")},addChat:function(n){n&&c(f.open,n)},minimiseChat:function(n){n&&(a(f.open,n),c(f.minimised,n))},unMinimiseChat:function(n){n&&(a(f.minimised,n),c(f.open,n))},removeChat:function(n){if(n){var e=s();e===n&&o(f.focused,""),a(f.minimised,n),a(f.open,n)}},verifyChatUser:function(){var n=r(f.user),i=e.getUserId();n!==i&&(t(),o(f.user,i))},getOpenChats:function(){return r(f.open)||[]},getMinimisedChats:function(){return r(f.minimised)||[]},getFocusedChat:function(){return r(f.focused)},getCurrentUser:function(){return r(f.user)}}}]);
!function(){"use strict";var t=function(t){t.module("messagingApp").service("MessagingAbTests",["$window","abTestAlwaysTreat","abTestNeverTreat","newChatboxShadowReleaseUsers",function(t,e,n,i){function r(t){return-1!==e.indexOf(t)?!0:-1!==n.indexOf(t)?!1:void 0}this.treatOffsiting=function(t){var e=r(t);return void 0!==e?e:1111>=t%11113},this.treatNewChatbox=function(t){var e=r(t);return void 0!==e?e:-1!==i.indexOf(t)},this.treatVideochat=function(e,n){var i=r(e);return void 0!==i?i:(i=r(n),void 0!==i?i:4617>n%4861?!0:t.ABTEST_ALLOW_VIDEOCHAT)}}])};t(angular)}();
"use strict";angular.module("messagingApp").factory("regexService",function(){var e=new RegExp("([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)","i"),a=/\.(gif|jpg|jpeg|tiff|png)$/i;return{isImage:function(e){return a.test(e)},isEmail:function(a){return e.test(a)}}});
"use strict";angular.module("messagingApp").directive("attachmentItem",["API_BASE_URL","$window",function(e,a){return{scope:{messageId:"@",isContact:"&",attachment:"&",sentByMe:"&",displayProfilePicture:"=",isImage:"&"},require:"^messageList",link:function(t,n,i,s){var r=n[0];t.fileUrl=function(){return e+"/messages/0.1/messages/"+t.messageId+"/"+encodeURIComponent(t.attachment().filename)},t.downloadFile=function(){return a.location.href=t.fileUrl(),!1},t.imageLoadedCallback=function(){s.imagesLoaded(r);var e=r.querySelector('[data-target="chatbox-attachment-image-container"]');e.style.display=""},t.imageLoadedErrorCallback=function(){s.imagesLoaded(r);var e=r.querySelector('[data-target="chatbox-attachment-image-container"]');e.style.display=""}},templateUrl:"/static/angularjs/messaging/templates/attachmentItem.html"}}]);
"use strict";angular.module("messagingApp").filter("imagesOnly",["regexService",function(e){return function(t,n){return t=t||[],t.filter(function(t){return e.isImage(t.filename)!==n})}}]).directive("attachmentSet",["regexService",function(e){return{scope:{attachments:"=",messageId:"=",isContact:"&",displayProfilePicture:"&",isImage:"&"},link:function(t){t.imageTest=function(t){return e.isImage(t.filename)}},templateUrl:"/static/angularjs/messaging/templates/attachmentSet.html"}}]);
"use strict";angular.module("messagingApp").directive("messageItem",function(){return{controller:"MessageItemCtrl",controllerAs:"messageItem",scope:{isContinued:"&",message:"=messageItem",displayProfilePicture:"&",displayTimestamp:"&",sender:"&",userIsEmployer:"&"},link:function(e,s,t,m){m.init(s)},templateUrl:"/static/angularjs/messaging/templates/messageItem.html"}});
"use strict";angular.module("messagingApp").filter("imagesOnly",["regexService",function(e){return function(s,n){return void 0===n&&(n=!1),s.filter(function(s){return e.isImage(s.filename)!==n})}}]).controller("MessageItemCtrl",["$scope","Auth","API_BASE_URL","$window","$filter","regexService","MessagingAbTests","dsdSupportUsers",function(e,s,n,t,r,a,i,g){var o,l,u;this.init=function(e){o=angular.element(e),u=parseInt(o.css("line-height").split("px")[0],10)},e.senderDifferent=function(s){return e.message.from_user!==s.from_user},e.imageLoadedCallback=function(){e.$$phase||e.$digest()},e.imageLoadedErrorCallback=function(){e.$$phase||e.$digest()},e.displayMessageListEl=function(){return!!(e.message.message||r("imagesOnly")(e.message.attachments,!0).length>0)},e.sentByMe=function(){return e.message.from_user===e.$parent.myUserId},e.isOffsiting=function(){for(var n=s.getUserId(),t=i.treatOffsiting(n),r=e.message.from_user,o=e.message.to_user,l=!1,u=0;u<g.length;u++){var m=g[u];if(m===r||m===o){l=!0;break}}return t&&e.sentByMe()&&!l&&a.isEmail(e.message.message)},e.hasImages=function(){return r("imagesOnly")(e.message.attachments).length>0},e.hasFiles=function(){return r("imagesOnly")(e.message.attachments,!0).length>0},e.fileUrl=function(s){return n+"/messages/0.1/messages/"+e.message.id+"/"+encodeURIComponent(s.filename)},e.hasMultiLine=function(){return l&&0!==l.length||(l=o.find('[data-target="chatbox-message-content"]')),l.height()>u},this.hasError=function(){return e.message.errors.length>0},this.hasAlert=function(){return e.message.alerts.length>0},e.downloadFile=function(s){t.location.href=e.fileUrl(s)}}]);
"use strict";angular.module("messagingApp").directive("messageList",function(){return{scope:!1,controller:"MessageListCtrl",controllerAs:"messageList",link:function(s,e,t,i){i.init(e)},templateUrl:"/static/angularjs/messaging/templates/messageList.html"}});
"use strict";angular.module("messagingApp").controller("MessageListCtrl",["$interval","$scope","$timeout","$q","Auth","messageListBottomScrollThreshold",function(t,e,r,n,o,i){function s(t){return"px"===t.slice(-2)?t.substring(0,t.length-2):t}function a(t){var e=getComputedStyle(t),r=parseInt(s(e.marginTop),10),n=parseInt(s(e.marginBottom),10);return t.offsetHeight+r+n}var l,c,u=this,h=50,f=!1,g=!0,m=5,d=2;this.init=function(t){l=t,c=l[0].querySelector('[data-target="scrollable-part"]'),u.contextContainer=l.parent().parent().find("[data-target=project-context-box]"),u.listContainer=l.find("[data-target=scrollable-part]")[0],e.myUserId=o.getUserId(),e.marginToFitContext=0,e.threadPromise.then(function(){e.messages=e.thread.getMessages().get()}),angular.element(u.listContainer).bind("scroll",function(){e.loadMoreMessages()})},this.imagesLoaded=function(t){var e=t.querySelector('[data-target="chatbox-attachment-image-container"]');e.style.display="";var r=t.querySelector("li"),n=a(r);c.scrollTop+=n},e.minutesSince=function(t,e){var r=t.time_created||Date.now()/1e3,n=e.time_created||Date.now()/1e3;return(n-r)/60},e.hoursSince=function(t,r){return e.minutesSince(t,r)/60},e.hoursTo=function(t,r){return-1*e.hoursSince(t,r)},e.displayProfilePicture=function(t,r,n){return(r.attachments&&r.attachments.length)>0||!e.isContinued(t,r,n)},e.displayTimestamp=function(t,r,n){return n||e.hoursSince(t,r)>=d},e.senderDifferent=function(t,e){return t&&e?t.from_user!==e.from_user:!0},e.isContinued=function(t,r,n){return n||!t?!1:!e.senderDifferent(r,t)&&e.minutesSince(t,r)<=m},e.messageSentByMe=function(t){return t.from_user===e.myUserId},e.userIsEmployer=function(){var t=e.thread.getUser(e.myUserId).get().role;return"employer"===t||"both"===t},e.loadMoreMessages=function(){var t=n.when();if(u.listContainer.scrollTop<h&&!f&&g){f=!0;var o=u.listContainer.scrollHeight,i=u.listContainer.scrollTop;t=e.thread.fetchMoreMessages().then(function(t){g=t>0,t&&r(function(){var t=u.listContainer.scrollHeight;u.listContainer.scrollTop=t-o+i},0)}).finally(function(){f=!1})}return t},this.hasError=function(){return e.thread.error&&!angular.equals(e.thread.error,{})},e.tallerThanContainer=function(){var t=l.find(".chatbox-messages-content-inner"),e=l.find(".chatbox-thread");return t.height()<e.height()},e.scrolledToBottom=function(){return c.scrollHeight-(c.scrollTop+c.clientHeight)<=i},e.scrollToBottom=function(){c.scrollTop=c.scrollHeight},e.$on("chatbox:forceBottomScroll",function(){e.scrolledToBottom()&&e.scrollToBottom()})}]);
"use strict";angular.module("messagingApp").controller("flResizableCtrl",["$document",function(e){var n,i={};this.register=function(t,o){var r;switch(o){case"top":case"bottom":r=!1;break;case"left":case"right":r=!0}t.on("mousedown",function(t){var a,l,s=n[0],u=s.getBoundingClientRect();r?(a=u.width,l=t.originalEvent.clientX):(a=u.height,l=t.originalEvent.clientY);var c=function(e){var n,t;r?(t="right"===o,n=e.originalEvent.clientX):(t="bottom"===o,n=e.originalEvent.clientY);var s=l-n;t&&(s=-1*s),e.preventDefault();var u=i[o];u&&u(a,s)},g=function(){e.unbind("mouseup",g),e.unbind("mousemove",c)};e.bind("mouseup",g),e.bind("mousemove",c)})},this.init=function(e,t){i=t,n=e;var o=t.resize;o&&angular.element(window).on("resize",function(e){o(e)})}}]).directive("flResizable",["$parse",function(e){return{controller:"flResizableCtrl",link:function(n,i,t,o){var r={left:e(t.onLeftChange)(n),right:e(t.onRightChange)(n),top:e(t.onTopChange)(n),bottom:e(t.onBottomChange)(n),resize:e(t.onPageResize)(n)};o.init(i,r)}}}]).directive("flResizableHandle",function(){return{require:"^flResizable",link:function(e,n,i,t){if(n.attr("draggable",!0),i.side){i.side=i.side.toLowerCase();var o=i.side;t.register(n,o)}}}});
"use strict";angular.module("messagingApp").service("GAFInteraction",["$window",function(e){return{findNavBar:function(){var e=document.querySelector('[data-target="primary-header"]');return e||(e=document.getElementById("header-and-nav")),e},getHeightOfNavBar:function(){var t=this.findNavBar(),r=e.getComputedStyle(t),n=t.offsetHeight,a=parseInt(r["margin-top"],10)+parseInt(r["margin-bottom"],10);return n+a}}}]);
"use strict";angular.module("messagingApp").directive("autogrow",function(){return{restrict:"A",scope:{change:"&"},controller:"AutogrowCtrl",link:function(t,r,n,e){e.init(r)}}});
"use strict";angular.module("messagingApp").controller("AutogrowCtrl",["$scope","$window","$timeout",function(t,e,o){function n(t){return parseInt(t.split("px")[0],10)}function i(t){return e.getComputedStyle?e.getComputedStyle(t):t.currentStyle}function r(t,e,o){var n=i(t),r=e.style;angular.forEach(o,function(t){r[t]=n[t]})}function l(t){var e=t.style.width;t.style.width="0px",t.style.width=e}function a(t){t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px"}function d(t){t.style.overflowY="scroll",t.style["overflow-y"]="scroll",window.chrome&&l(t)}function c(t){t.style.overflowY="hidden",t.style["overflow-y"]="hidden",window.chrome&&l(t)}function s(t,e,o){var n=t.slice(0,o.start)+e+t.slice(o.end);return n}function u(){T=document.createElement("div"),T.id="autogrowDiv",document.body.appendChild(T);var t=T.style;r(S,T,H),t.whiteSpace="pre-wrap","INPUT"!==S.nodeName&&(t.wordWrap="break-word"),t.position="absolute",t.visibility="hidden",C=document.createElement("span"),C.id="autogrowSpan",C.style.display="block",a(T),T.appendChild(C),f()}function p(){z=document.createElement("textarea"),z.id="autogrowTextArea",r(S,z,H),a(z),document.body.appendChild(z);var t=i(z);if(""!==z.value){var e=z.value;z.value="",Y=n(t.height)-n(t.paddingTop)-n(t.paddingBottom),z.value=e}else Y=n(t.height)-n(t.paddingTop)-n(t.paddingBottom)}function h(){var t=i(S);("border-box"===x.css("box-sizing")||"border-box"===x.css("-moz-box-sizing")||"border-box"===x.css("-webkit-box-sizing"))&&(A=x.outerHeight()-x.height()),k=Math.max(parseInt(x.css("minHeight"),10)-A||0,x.height()),E=n(t.getPropertyValue("max-height")),p(),u()}function f(){if(T){var t=T.style,e=i(T);return r(S,T,H),W?(t.width=parseInt(e.width,10)-2+"px",S.scrollHeight>parseInt(e.height)&&(t.overflowY="scroll")):t.overflow="hidden",y()}}function g(){var t=z.value,e=t[0];t=t.substr(1),z.value=t,z.value=e+t}function v(t){var e={start:S.selectionStart,end:S.selectionEnd};return s(S.value,String.fromCharCode(t.keyCode),e)}function w(t){if(z){var e;e=t?v(t):S.value,z.value=e,z.style.overflowY="hidden";var o=z.scrollHeight;g(),E&&o>E?d(z):c(z),o=z.scrollHeight,E&&o>E?(d(S),d(C),o=E):(c(S),c(C),k>o&&(o=k));var n=o!==B;B=o;var r=i(S).height,l=r!==String(o)+"px";return l&&(S.style.height=""+o+"px"),D=e,n}}function y(){var t=m(),e=i(S),o=n(e.height),r=0;return t.top-S.scrollTop<V?r=t.top-S.scrollTop-V:t.bottom+V>S.scrollTop+o&&(r=t.bottom-o-S.scrollTop+V),r}function m(){var t=(S.value||".").substr(0,S.selectionEnd);C.textContent=t;var e=i(S),o=n(e.paddingTop),r=C.clientHeight;return{top:o+r-Y,bottom:o+r}}function b(e){!e||"keydown"!==e.type&&"input"!==e.type||o(b,5),$||(h(),$=!0),w(e)&&t.change();var n="scroll"===S.style.overflowY;if(n){var i=y();i&&(S.scrollTop+=i)}e&&(e.returnValue=!1)}var x,S,T,C,z,H,I,W,k,E,Y,A=0,B=0,V=7,$=!1,D="";this.init=function(t){x=angular.element(t),S=x[0],B=S.clientHeight,H=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","whiteSpace"],I=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],W=null!=e.mozInnerScreenX,x.on("input",function(t){b(t)}),x.on("keydown",function(t){b(t)})}}]);
"use strict";angular.module("messagingApp").directive("typingBox",function(){return{restrict:"A",scope:{attachments:"=",thread:"="},link:function(t,e,n,r){r.init(e)},controller:"TypingBoxCtrl",templateUrl:"/static/angularjs/messaging/templates/typingBox.html"}}).filter("humanFileSize",function(){return function(t){var e="",n=Number(t/Math.pow(1024,2));return e=n>10?Math.round(n):parseFloat(n.toFixed(2)),e+" MB"}});
"use strict";angular.module("messagingApp").controller("TypingBoxCtrl",["ChatManager","MessagingCookiesStorage","VideochatFactory","$scope","$timeout","$window",function(e,t,a,n,i,s){var o=this;this.init=function(e){o.$element=e,o.textArea=this.$element.find("textarea"),n.message=""},this.sendMessage=function(){var e=n.message,i=n.attachments.get();n.message="",n.attachments.clear(),n.onFileChange();var o=!n.thread.get().id,h=n.thread.sendMessage(e,i);return i.length>0&&(h.attachments=i,n.$parent.$broadcast("attachments.uploadPromise",h)),h.finally(function(){if(o){t.addChat(n.thread.get().id);var e=n.thread.chatHash(),i=n.thread.get().id,h=s.liveChat.new_chats[e];s.liveChat.chats[i]=h,s.liveChat.active_chats.push(i),s.liveChat.chat_map[e]=i,n.$parent.videochat=a(n.thread.get())}})},n.textEntered=function(e){return n.$emit("chatEnterText"),e.shiftKey||13!==e.keyCode?void n.thread.type():((n.message.trim().length>0||!n.attachments.isEmpty())&&o.sendMessage(),void e.preventDefault())},n.onFileSelect=function(e){n.attachments.add(e),i(function(){})},n.onFileDelete=function(e){n.attachments.remove(e)},n.onFileChange=function(){o.$element.find("form.chatbox-input-form")[0].reset()},n.$on("focusTypingBox",function(){o.textArea[0].focus()})}]);
"use strict";angular.module("messagingApp").directive("videochatOverlay",["MessagingAbTests",function(){return{scope:!1,templateUrl:"/static/angularjs/messaging/templates/videochatOverlay.html",replace:!0}}]);
!function(){"use strict";var t=function(t){t.module("messagingApp").directive("videochatFeatureTooltip",function(){return{restrict:"A",scope:{thread:"=",videochatEnabled:"="},controller:"VideochatFeatureTooltipController",controllerAs:"tooltipController",bindToController:!0,templateUrl:"/static/angularjs/messaging/templates/videochatFeatureTooltip.html"}}).controller("VideochatFeatureTooltipController",["VideochatFeatureTooltipData","MessagingCookiesStorage",function(t,e){this.shouldShow=function(){return this.thread&&this.thread.get().id?this.videochatEnabled&&t.shouldShow()&&this.thread.get().id===e.getFocusedChat():!1},this.close=function(){t.close()}}])};"undefined"!=typeof module&&module&&module.exports?module.exports=t:t(angular)}();
"use strict";angular.module("messagingApp").service("VideochatFeatureTooltipData",["AlertBoxStatus",function(t){var o;t.get("videochat_feature_tooltip",0).then(function(t){o=t}),this.shouldShow=function(){return o?o.shouldShow():!1},this.close=function(){o&&o.close()}}]);
"use strict";angular.module("messagingApp").directive("videochatSurvey",["VideochatSurveyManager",function(e){return{scope:!0,templateUrl:"/static/angularjs/messaging/templates/videochatSurvey.html",replace:!0,link:function(t){t.threadPromise.then(function(i){var a=e(i);t.isShowing=a.isShowing,t.close=a.close})}}}]);
"use strict";angular.module("messagingApp").factory("VideochatSurveyManager",["$rootScope","Auth","AlertBoxStatus",function(t,e,o){var n="videochat_survey_tooltip";return function(r){var u,i=!1;return t.$on("videochat:ended",function(t,c){r.get().id===c.thread_id&&c.user_id===e.getUserId()&&o.get(n,0).then(function(t){u=t,i=u.shouldShow()})}),{isShowing:function(){return i},close:function(){i=!1,u&&u.close()}}}}]);
angular.module("templates-messagingApp",[]).run(["$templateCache",function(t){t.put("/static/angularjs/messaging/templates/attachmentItem.html",'<div ng-switch="::isImage()"><div ng-switch-when="true" style="display:none" data-target="chatbox-attachment-image-container"><li class="has-thumbnail has-multi-line chatbox-thread-item" ng-class="::{\n                \'is-contact\': isContact()\n            }"><img ng-if="::displayProfilePicture()" class="chatbox-thread-item-profilepic" width="36" height="36" ng-src="{[{::members()[message.from_user].avatar_cdn}]}"> <a ng-click="downloadFile()"><img class="chatbox-thread-item-thumbnail" fl-images-loaded fl-image-loaded-callback="imageLoadedCallback" fl-image-error-callback="imageLoadedErrorCallback" ng-src="{[{::fileUrl()}]}" alt="{[{::attachment.filename}]}"></a> <a class="chatbox-thread-item-thumbnail-link" ng-click="downloadFile()" title="Click to download"><span class="chatbox-thread-item-thumbnail-filename">{[{::attachment().filename}]}</span></a></li></div><div ng-switch-when="false"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-file.html"></fl-svg><a title="Download this file" ng-click="downloadFile()" class="chatbox-thread-item-download">{[{::attachment().filename}]}</a></div></div>'),t.put("/static/angularjs/messaging/templates/attachmentList.html",'<ul class="chatbox-attachments" ng-if="!attachments.isEmpty()"><li ng-repeat="attachment in attachments.get()">{[{attachment.name}]} <button ng-click="attachments.delete(attachment)">X</button></li></ul>'),t.put("/static/angularjs/messaging/templates/attachmentSet.html",'<attachment-item message-id="{[{messageId}]}" ng-repeat="attachment in attachments|imagesOnly:!isImage()" attachment="attachment" is-image="isImage()" is-contact="isContact()"></attachment-item>'),t.put("/static/angularjs/messaging/templates/attachmentUploads.html",'<aside ng-if="uploadTotal > 0" class="chatbox-banner chatbox-banner-upload" ng-class="{\'is-complete\': (uploadProgress === uploadTotal)}"><div class="chatbox-banner-inner"><span class="chatbox-banner-content"><span class="chatbox-banner-title">{[{ uploadProgress | uploadTitle:uploadTotal }]}</span> <span ng-pluralize count="uploadFileNames.length" when="{\'1\':\'{[{uploadFileNames[0]}]}\', \'other\':\'{} files\'}"></span></span> <span class="chatbox-banner-activity"><span class="chatbox-banner-upload-icon is-animated"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-uploading.html"></fl-svg><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-upload-success.html"></fl-svg></span></span></div><progress class="chatbox-banner-progress" max="{[{uploadTotal}]}" ng-value="uploadProgress"></progress></aside>'),t.put("/static/angularjs/messaging/templates/chatBox.html",'<div class="chatbox" fl-analytics-section="ChatBox" fl-resizable on-left-change="onDragLeft" on-top-change="onDragTop" on-page-resize="onDocumentResize" ng-class="{\'has-project-assist\': assistedSupport.isOtherAssisted() ||\n                    thread.get().thread.thread_type===\'admin_preferred_chat\',\n               \'has-technical-support\': assistedSupport.isOtherDsd(),\n               \'is-unread\': alertNewMessages && !thread.isRead(),\n               \'is-inactive\': !isFocused() && !(alertNewMessages && !thread.isRead())}"><div class="chatbox-inner" ng-click="clickedChat($event)" fl-file-drop="onFileSelect($files)" fl-drag-events fl-drag-events-enter="onDragEnter()" fl-drag-events-leave="onDragLeave()" fl-drag-events-drop="onDragLeave()"><div class="chatbox-header chatbox-row" chatbox-header></div><aside class="chatbox-context-banner chatbox-row" chatbox-context-box></aside><div class="chatbox-messages chatbox-row" message-list></div><div class="chatbox-footer chatbox-row" attachments="attachments" thread="thread" focus-first="focusFirst" typing-box></div><div class="chatbox-upload-droparea chatbox-overlay" ng-if="droppingFile"><div class="chatbox-upload-droparea-inner"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-upload.html"></fl-svg></div></div><div videochat-overlay videochat-enabled="videochatEnabled"></div><div chatbox-settings></div><div videochat-feature-tooltip thread="thread" videochat-enabled="videochatEnabled"></div><div videochat-survey></div></div><span class="chatbox-resize-handle chatbox-resize-handle-height" fl-resizable-handle side="top"></span> <span class="chatbox-resize-handle chatbox-resize-handle-width" fl-resizable-handle side="left"></span></div>'),t.put("/static/angularjs/messaging/templates/chatboxActions.html",""),t.put("/static/angularjs/messaging/templates/chatboxHeader.html",'<div ng-click="headerMinimise($event)" class="chatbox-header-inner" data-target="chatbox-header-contents"><span fl-online-offline-icon size="large" class="chatbox-contact-status" user-id="chattingTo().id"></span><div class="chatbox-header-content"><a ng-if="!assistedSupport.isOtherSupport()" hireme-source="Chat" hireme-event="ProfileRedirect" href="{[{::userProfileUrl()}]}" class="chatbox-contact-username">{[{::chattingTo().username}]}</a> <span ng-if="assistedSupport.isOtherSupport()" class="chatbox-contact-username uname_link">{[{::assistedSupport.getOtherSupportName()}]}</span> <small ng-if="assistedSupport.isOtherDSD()" class="chatbox-contact-username-title">Freelancer Staff</small> <small ng-if="assistedSupport.isOtherAssisted()" class="chatbox-contact-username-title">Freelancer Staff</small> <small ng-if="assistedSupport.isSelfAssisted()" class="chatbox-contact-username-title">Recruiter Chat</small> <span class="chatbox-controls thread-actions"><span class="chatbox-controls-inner"><button ng-click="buttonMinimise($event)" data-target="chatbox-minimise-button" class="chatbox-controls-button minimise-button has-minimize-icon"><span class="chatbox-controls-icon"></span></button> <button ng-click="closeChat($event)" class="chatbox-controls-button chat_close"><span class="chatbox-controls-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-close.html"></fl-svg></span></button> <button ng-if="thread.get().id" ng-click="toggleSettings($event)" class="chatbox-controls-button has-settings-icon"><span class="chatbox-controls-icon has-compact-flicon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-setting.html"></fl-svg></span></button></span></span><div attachment-uploads></div></div></div>'),t.put("/static/angularjs/messaging/templates/chatboxSettings.html",'<div ng-class="{\'is-minimized\': !showSettings, \'is-above:\': minimised}" class="chatbox-settings is-minimized" data-target="chatbox-settings"><ul class="chatbox-settings-menu"><li fl-analytics-section="Videochat" ng-show="videochatEnabled" class="chatbox-settings-item has-post-divider" data-identifier="videochatButton"><button fl-analytics="initiateCall" fl-analytics-value="{[{thread.get().id}]}" fl-insta-click="settings.startVideochat()" class="chatbox-settings-button"><span class="chatbox-settings-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-video.html"></fl-svg></span> Video Call <span class="promotion-tag promotion-tag-small">beta</span></button></li><li class="chatbox-settings-item" ng-if="thread.getProject().get()"><a class="chatbox-settings-button has-anchor-tag" href="{[{::thread.getProject().getFullSeoUrl()}]}" target="_blank"><span class="chatbox-settings-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-file.html"></fl-svg></span> View Project</a></li><li class="chatbox-settings-item"><a class="chatbox-settings-button has-anchor-tag" href="/users/messages/index.php#/thread/{[{::thread.get().id}]}" target="_blank"><span class="chatbox-settings-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-chat.html"></fl-svg></span> View in Inbox</a></li><li class="chatbox-settings-item has-post-divider"><button ng-click="settings.soundSettings.toggleSounds()" ng-class="{\'is-selected\': !settings.soundSettings.soundsEnabled()}" class="chatbox-settings-button toggle-chat-sound"><span class="chatbox-settings-icon"><fl-svg ng-show="settings.soundSettings.soundsEnabled()" src="/static/angularjs/messaging/templates/icons/flicon-sounds-enabled.html"></fl-svg><fl-svg ng-show="!settings.soundSettings.soundsEnabled()" src="/static/angularjs/messaging/templates/icons/flicon-sounds-disabled.html"></fl-svg></span> <span ng-show="settings.soundSettings.soundsEnabled()">Disable Sounds</span> <span ng-show="!settings.soundSettings.soundsEnabled()">Enable Sounds</span></button></li><li class="chatbox-settings-item"><button ng-click="settings.toggleArchive()" ng-class="{\'is-selected\': thread.isArchived()}" class="chatbox-settings-button archive-chat"><span class="chatbox-settings-icon"><fl-svg ng-show="thread.isArchived()" src="/static/angularjs/messaging/templates/icons/flicon-archive.html"></fl-svg><fl-svg ng-show="!thread.isArchived()" src="/static/angularjs/messaging/templates/icons/flicon-archive.html"></fl-svg></span> <span ng-show="thread.isArchived()">Unarchive</span> <span ng-show="!thread.isArchived()">Archive</span></button></li><li class="chatbox-settings-item"><button ng-class="{\'is-selected\': thread.isMuted()}" ng-click="settings.toggleMute()" class="chatbox-settings-button unmute-chat"><span class="chatbox-settings-icon"><fl-svg ng-show="thread.isMuted()" src="/static/angularjs/messaging/templates/icons/flicon-unmute.html"></fl-svg><fl-svg ng-show="!thread.isMuted()" src="/static/angularjs/messaging/templates/icons/flicon-mute.html"></fl-svg></span> <span ng-show="thread.isMuted()">Unmute</span> <span ng-show="!thread.isMuted()">Mute</span></button></li></ul></div>'),t.put("/static/angularjs/messaging/templates/contextBox/blank.html","<span></span>"),t.put("/static/angularjs/messaging/templates/contextBox/contestContext.html","<div class=\"chatbox-banner\" ng-class=\"{\n        'chatbox-banner-success': contest.status === 'active',\n        'chatbox-banner-info': contest.status !== 'active'\n"+'    }"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/contest/{[{::contest.id}]}.html" href="" title="View this contest">{[{::contest.title}]}</a></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/counterOfferMade.html",'<div class="chatbox-banner"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span> You\'ve made a counter offer proposal!</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/counterOfferReceived.html",'<div class="chatbox-banner"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span> You\'ve received a counter offer!</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/hireme.html",'<div class="chatbox-banner"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">I\'m available</span> Let\'s work together.</span> <span class="chatbox-banner-activity"><button class="btn btn-mini fl-bt-skin projectActionButton accept" data-target="chatbox-context-button" onclick="_ttref.push([\'_setEntrypoint\', \'HireMe_messagechatbox-defaultthread\'])"><span class="fl-icon-bird"></span> Hire Me</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/hiremeRehire.html",'<div class="chatbox-banner"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">I\'m available!</span> Let\'s work together.</span> <span class="chatbox-banner-activity"><button class="btn btn-mini fl-bt-skin projectActionButton accept" data-target="chatbox-context-button" onclick="_ttref.push([\'_setEntrypoint\', \'HireMe_messagechatbox\'])"><span class="fl-icon-bird"></span> Rehire</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/milestoneCreate.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span></span> <span class="chatbox-banner-activity" ng-hide="ABTestAutomaticPayment"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button" onclick="_lt.push([\'user_action\', {\'section\': \'ChatBox\', \'subsection\': \'MilestoneCreate\', \'label\': \'ChatBoxMilestoneCreateGeneral\'}])">Create Milestone</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/milestoneCreateFromRequest.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span></span> <span class="chatbox-banner-activity"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button" onclick="_lt.push([\'user_action\', {\'section\': \'ChatBox\', \'subsection\': \'MilestoneCreate\', \'label\': \'ChatBoxMilestoneCreateRequested\'}])">Create Milestone</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/milestoneCreateInitial.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span></span> <span class="chatbox-banner-activity" ng-hide="ABTestAutomaticPayment"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button" onclick="_lt.push([\'user_action\', {\'section\': \'ChatBox\', \'subsection\': \'MilestoneCreate\', \'label\': \'ChatBoxMilestoneCreateInitial\'}])">Create Milestone</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/milestoneRequest.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title"></span></span> <span class="chatbox-banner-activity"><button onclick="_lt.push([\'user_action\', {\'section\': \'ChatBox\', \'subsection\': \'CreateMilestoneRequest\', \'label\': \'ChatBoxCreateMilestoneRequest\'}])" data-target="chatbox-context-button" class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm">Request Milestone</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedBuyerEmployerPending.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">Psst..!</span> You\'ve just received an offer</span> <span class="chatbox-banner-activity"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button">View Offer</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedBuyerEmployerRequested.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">{[{ ::project.title }]}</span> Request {[{ ::chattingTo().username }]} for another offer</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedBuyerFreelancerPending.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">Discuss project details</span> Ask {[{ ::chattingTo().username }]} for an offer</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedSellerEmployerAccepted.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">Offer accepted</span> {[{ ::chattingTo().username }]} has accepted your offer</span> <span class="chatbox-banner-activity"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button">View Project</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedSellerEmployerPending.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">You have submitted an offer</span> Please await a response from {[{ ::chattingTo().username }]}</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedSellerEmployerRejected.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">{[{ ::chattingTo().username }]} has rejected your offer</span> No futher offer updates have been requested</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedSellerEmployerRequested.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">{[{ ::chattingTo().username }]} has rejected your offer</span> Please update your offer</span> <span class="chatbox-banner-activity"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button">Update Offer</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/negotiatedSellerFreelancerPending.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">Offer a quote</span> Offer quote to {[{ ::chattingTo().username }]}</span> <span class="chatbox-banner-activity"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button">Make Offer</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/projectAccept.html",'<div class="chatbox-banner chatbox-banner-success"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">Congratulations!</span> You\'ve been awarded</span> <span class="chatbox-banner-activity"><button ng-disabled="ctaDisabled" class="btn btn-plain-alt btn-mini projectActionButton accept" data-target="chatbox-context-button">Accept</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/projectAccepted.html",'<div class="chatbox-banner chatbox-banner-success"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content">Project accepted</span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/projectAward.html",'<div class="chatbox-banner chatbox-banner-info"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div><div class="chatbox-banner-cta chatbox-banner-row"><span class="chatbox-banner-content"><span class="chatbox-banner-title">{[{::project.currency.sign}]}{[{::rawBid.amount}]} {[{::project.currency.code}]}{[{::project.type === \'fixed\' ? \'\' : \'/hour\'}]}</span> <span ng-if="::project.type === \'fixed\'">in {[{rawBid.period}]} days</span></span> <span class="chatbox-banner-activity" ng-hide="ABTestAutomaticPayment || project.type === \'hourly\'"><button class="btn btn-plain-alt btn-mini projectActionButton open-ar-confirm" data-target="chatbox-context-button" fl-analytics="AwardFromChat" fl-analytics-value="{[{rawBid.bidder_id}]}">Award</button></span></div></div>'),t.put("/static/angularjs/messaging/templates/contextBox/projectContext.html","<div class=\"chatbox-banner\" ng-class=\"{\n        'chatbox-banner-success': project.award_status === 'awarded' ||\n                                  project.award_status === 'pending',\n        'chatbox-banner-info': project.award_status !== 'awarded' &&\n                               project.award_status !== 'pending'\n"+'    }"><div class="chatbox-banner-row"><a class="chatbox-banner-project-title" ng-href="/projects/{[{::project.id}]}.html" href="" title="View this project">{[{::project.title}]}</a></div></div>'),t.put("/static/angularjs/messaging/templates/icons/flicon-archive.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-archive"><g><polyline fill="none" points="16.552,16.696 16.552,19.034 7.448,19.034 7.448,16.696     "/><polygon fill="none" points="24,24 0,24 0,16.552 7.448,16.552 7.448,19.034 16.552,19.034 16.552,16.552 24,16.552    "/><polyline fill="none" points="0,16.552 4.174,12.414 7.826,12.414    "/><polyline fill="none" points="24,16.552 19.826,12.414 17.217,12.414     "/><line fill="none" x1="12.414" y1="12.414" x2="12.414" y2="0"/><polyline fill="none" points="17.793,7.448 12.414,12.414 7.034,7.448    "/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-attachment.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-attachment"><g><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M9.5,17V9.5\n        c0-1.657,0.843-3,2.5-3c1.657,0,2.5,1.343,2.5,3V19c0,2.485-1.515,4.5-4,4.5c-2.485,0-4-2.015-4-4.5V6.5c0-3.314,2.187-6,5.5-6\n        c3.314,0,5.5,2.686,5.5,6v9"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-chat.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-chat"><g><path class="flicon-chat-fill" d="M23.3,10.8c0,5.1-5,9.2-11.3,9.2c-1.4,0-2.7-0.2-4-0.6l-6.5,3L4,17.4c-2.1-1.7-3.4-4-3.4-6.6c-0.1-5,5-9.2,11.3-9.2\n        S23.3,5.7,23.3,10.8z"/></g><g><path fill="none" d="M23.3,10.8c0,5.1-5,9.2-11.3,9.2c-1.4,0-2.7-0.2-4-0.6l-6.5,3L4,17.4c-2.1-1.7-3.4-4-3.4-6.6\n        c-0.1-5,5-9.2,11.3-9.2S23.3,5.7,23.3,10.8z"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-close.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" enable-background="new 0 0 12 12" xml:space="preserve" class="flicon-close"><g><line fill="none" x1="11.75" y1="0.25" x2="0.25" y2="11.75"/><line fill="none" x1="11.75" y1="11.75" x2="0.25" y2="0.25"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-file.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-file"><g><polygon fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n        20.576,23.5 3.576,23.5 3.576,0.5 14.576,0.5 20.576,6.5  "/><polyline fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n        14.576,0.5 14.576,6.5 20.576,6.5    "/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-mute.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-mute"><g><polyline fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="10,18.5\n        13.5,22 13.5,13.5   "/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M13.5,7.5V2l-7,7H3\n        c-0.829,0-1.5,0.672-1.5,1.5v3C1.5,14.329,2.171,15,3,15h2.5"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M16.5,12\n        c0,1.381-1.12,2.5-2.5,2.5h-0.5"/><line fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="2.5" y1="22" x2="22.5" y2="2"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-notification.html",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="flicon-notification"><g stroke-miterlimit="10"><path stroke-linejoin="round" d="M7 21.5h10l-5-8z"/><path stroke-linecap="round" d="M18.9 18.6c1.6-1.7 2.6-4 2.6-6.6 0-5.2-4.3-9.5-9.5-9.5S2.5 6.8 2.5 12c0 2.5 1 4.9 2.6 6.6"/><path stroke-linecap="round" d="M7.5 15.2c-.6-.9-1-2-1-3.2C6.5 9 9 6.5 12 6.5S17.5 9 17.5 12c0 1.2-.4 2.3-1 3.2"/><path stroke-linecap="round" d="M10.5 12.1c0-.1 0-.1 0 0 0-.9.7-1.6 1.5-1.6s1.5.7 1.5 1.5v.1"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-setting.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-setting"><g class="flicon-default"><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M20.254,13.5H23.5\n        v-3h-3.247c-0.209-0.867-0.551-2.181-1.003-2.922l2.296-2.296l-2.829-2.828L16.42,4.75c-0.741-0.452-2.053-0.794-2.92-1.003V0.5h-3\n        v3.247C9.633,3.956,8.319,4.298,7.579,4.75L5.282,2.454L2.454,5.282L4.75,7.579C4.298,8.319,3.956,9.633,3.746,10.5H0.5v3h3.246\n        c0.21,0.867,0.552,2.181,1.004,2.921l-2.297,2.297l2.829,2.828l2.296-2.297c0.741,0.453,2.055,0.795,2.922,1.005V23.5h3v-3.246\n        c0.867-0.21,2.18-0.552,2.92-1.004l2.297,2.296l2.828-2.828l-2.296-2.297C19.702,15.681,20.044,14.367,20.254,13.5z"/><circle fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="12" cy="12" r="4.5"/></g><g class="flicon-compact"><circle cx="12" cy="3" r="3"/><circle cx="12" cy="12" r="3"/><circle cx="12" cy="21" r="3"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-sounds-disabled.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-sounds-disable"><g><path fill="none" d="M19.857,18.947v-5.684c0.097-3.535-1.896-5.97-4.783-7.181c0-1.706-1.378-3.089-3.075-3.089\n        c-1.7,0-3.075,1.383-3.075,3.089c-2.89,1.211-4.783,3.841-4.783,7.181v5.684c0,1.365-1.238,2.581-2.596,2.581h20.907\n        C21.093,21.529,19.954,20.118,19.857,18.947z"/><path fill="none" d="M1,6.947C1,3.111,4.093,0,7.914,0"/><path fill="none" d="M4.143,6.316c0-1.744,1.406-3.158,3.143-3.158"/><path fill="none" d="M23,6.947C23,3.111,19.907,0,16.086,0"/><path fill="none" d="M19.857,6.316c0-1.744-1.406-3.158-3.143-3.158"/><g><path fill="none" d="M14.2,21.474c0,1.395-1.126,2.526-2.514,2.526c-1.39,0-2.514-1.131-2.514-2.526"/></g></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-sounds-enabled.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-sounds-enable"><g><path fill="none" d="M15.185,4.188c0-1.826-1.482-3.306-3.306-3.306c-1.828,0-3.306,1.48-3.306,3.306\n        c-3.108,1.295-5.289,4.359-5.289,7.933v3.306"/><path fill="none" d="M7.912,20.716h14.545c-1.462,0-2.644-1.184-2.644-2.644v-5.95c0-1.171-0.237-2.287-0.66-3.304"/><path fill="none" d="M13.862,20.716c0,1.461-1.184,2.644-2.644,2.644c-1.462,0-2.644-1.184-2.644-2.644"/><line fill="none" x1="0" y1="24" x2="24" y2="0"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-unmute.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-unmute"><g><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M5.5,9H2\n        c-0.829,0-1.5,0.672-1.5,1.5v3C0.5,14.329,1.171,15,2,15h3.5l7,7V2L5.5,9z"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M20,4\n        c2.202,1.925,3.5,4.846,3.5,8c0,3.154-1.298,6.075-3.5,8"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M17.5,6\n        c1.667,1.376,3,3.67,3,6c0,2.326-1.338,4.625-3,6"/><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M15.5,8.5\n        c1.125,0.818,2,2.002,2,3.5c0,1.498-0.874,2.682-2,3.5"/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-upload-success.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-upload-success"><g><path fill="none" d="M19.304,16.443c0,0,4.696-0.612,4.696-5.217c0-2.918-2.408-5.318-5.405-5.208\n        c-1.171-2.47-3.68-4.183-6.595-4.183c-3.886,0-7.055,3.037-7.282,6.866C2.283,8.192,0,10.045,0,12.53\n        c0,3.264,2.814,3.806,3.821,3.895"/><circle fill="none" cx="11.68" cy="16.542" r="5.624"/><polyline fill="none" points="14.276,14.812 10.909,18.411 9.273,16.775  "/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-upload.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-upload"><g><path fill="none" d="M16.7,16.5h2.6c0,0,4.7-0.6,4.7-5.4c0-3-2.4-5.5-5.4-5.4c-1.2-2.5-3.7-4.3-6.6-4.3c-3.9,0-7.1,3.1-7.3,7.1\n        C2.3,8,0,10,0,12.5c0,4.1,4.2,4,4.2,4h3.1"/><line fill="none" x1="12" y1="10.1" x2="12" y2="22.5"/><polyline fill="none" points="15.3,13.5 12,10.1 8.7,13.5    "/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-uploading.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-uploading"><g><path fill="none" d="M20.298,16.707C21.676,16.243,24,14.981,24,11.739c0-2.918-2.408-5.318-5.403-5.208\n        c-1.171-2.47-3.68-4.183-6.597-4.183c-3.885,0-7.054,3.037-7.28,6.866C2.284,8.705,0,10.559,0,13.043\n        c0,3.094,2.529,3.742,3.65,3.877"/><g class="has-animation"><path fill="none" d="M8.509,14.671c0.796-1.06,2.064-1.745,3.491-1.745c2.411,0,4.364,1.954,4.364,4.364v1.091"/><path fill="none" d="M15.492,19.907c-0.796,1.06-2.064,1.746-3.492,1.746c-2.409,0-4.364-1.954-4.364-4.364v-1.091"/><polyline fill="none" points="6,17.835 7.636,16.198 9.273,17.835    "/><polyline fill="none" points="18,16.744 16.364,18.38 14.727,16.744  "/></g></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-video.html",'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" class="flicon-video"><g><path fill="none" d="M15.7,17.7c0,0.6-0.5,1-1,1H1c-0.6,0-1-0.5-1-1V6.3c0-0.6,0.5-1,1-1h13.6c0.6,0,1,0.5,1,1V17.7z"/><polygon fill="none" points="24,17.7 17.7,14.6 17.7,9.4 24,6.3  "/></g></svg>'),t.put("/static/angularjs/messaging/templates/icons/flicon-warning-sign.html",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="flicon-warning-sign"><path fill="none" d="M12 15.5v-7M12 17.5c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="none" d="M21.5 21.5h-19l9.5-19z"/></svg>'),t.put("/static/angularjs/messaging/templates/icons/typing-icon.html",'<svg class="typingicon" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 26 8" enable-background="new 0 0 26 8" xml:space="preserve"><circle class="typingicon-bulletpoint typingicon-bulletpoint-01" cx="4" cy="4" r="2"/><circle class="typingicon-bulletpoint typingicon-bulletpoint-02" cx="13" cy="4" r="2"/><circle class="typingicon-bulletpoint typingicon-bulletpoint-03" cx="22" cy="4" r="2"/></svg>'),t.put("/static/angularjs/messaging/templates/messageItem.html",'<fl-recompile fl-recompile="message.attachments.length"><div ng-if="::displayTimestamp()" class="chatbox-thread-divider"><span am-preprocess="unix">{[{::message.time_created | amDateFormat: \'DD MMMM YYYY &middot; h:mm a\'}]}</span></div><span ng-if="::displayMessageListEl()" ng-class="::{\n            \'is-continued\': isContinued(),\n            \'has-file\': hasFiles(),\n            \'has-multi-line\': hasMultiLine(),\n        }" data-target="chatbox-message-content" class="chatbox-thread-item"><span ng-bind-html="::message.message | linky"></span> <img ng-if="::displayProfilePicture()" class="chatbox-thread-item-profilepic" width="36" height="36" fl-images-loaded image-loaded-callback="imageLoadedCallback" image-error-callback="imageLoadedErrorCallback" ng-src="//{[{::sender().getAvatarUrl()}]}"><attachment-set ng-if="::hasFiles()" is-image="false" attachments="message.attachments" message-id="::message.id" is-contact="::!sentByMe()"></attachment-set></span><attachment-set ng-if="::hasImages()" is-image="true" display-profile-picture="::(displayProfilePicture() && !displayMessageListEl())" attachments="::message.attachments" message-id="::message.id" is-contact="::!sentByMe()" class="chatbox-thread-attachment"></attachment-set><div class="chatbox-alert-inline chatbox-alert-error" ng-if="::isOffsiting()"><span class="chatbox-alert-inline-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-warning-sign.html"></fl-svg></span> <small class="chatbox-alert-inline-content" ng-if="::userIsEmployer()"><span class="chatbox-alert-inline-title">Stay safe with Freelancer.com</span> To ensure your project is safe from fraudulent activity, we ask that you use Freelancer.com for all communication &amp; payments related to your project. For more info - please see our <a href="/about/terms" title="Go to our Terms & conditions">Terms &amp; Conditions</a>.</small> <small class="chatbox-alert-inline-content" ng-if="::!userIsEmployer()"><span class="chatbox-alert-inline-title">Account warning!</span> To keep our community safe, we ask that you use Freelancer.com for all communication &amp; payments related to projects. For more info - please see our <a href="/about/terms" title="Go to our Terms & Conditions">Terms &amp; Conditions</a>.</small></div><div class="chatbox-alert-inline chatbox-alert-error" ng-if="messageItem.hasError()" ng-repeat="error in message.errors"><span class="chatbox-alert-inline-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-warning-sign.html"></fl-svg></span> <small class="chatbox-alert-inline-content"><span class="chatbox-alert-inline-title">{[{::error.title}]}</span></small> {[{::error.message}]}</div><div class="chatbox-alert-inline chatbox-alert-info" ng-if="messageItem.hasAlert()" ng-repeat="alert in message.alerts"><span class="chatbox-alert-inline-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-warning-sign.html"></fl-svg></span> <small class="chatbox-alert-inline-content"><span class="chatbox-alert-inline-title">{[{::alert.title}]}</span></small> {[{::alert.message}]}</div></fl-recompile>'),t.put("/static/angularjs/messaging/templates/messageList.html",'<div class="chatbox-messages-inner"><div class="chatbox-messages-content"><div fl-scroll-glue fl-no-scroll-overflow class="chatbox-messages-content-inner" data-target="scrollable-part"><ol class="chatbox-thread"><li ng-if="!messageList.hasError()" ng-repeat="message in messages |\n                               orderBy:\'-time_created\':true as sortedMessages"><div class="clearfix chatbox-thread-inner" ng-class="::{\n                            \'is-contact\': !messageSentByMe(message)\n                        }" message-item="message" is-continued="isContinued(\n                            sortedMessages[$index-1], message, $first\n                        )" display-profile-picture="displayProfilePicture(\n                            sortedMessages[$index-1], message, $first\n                        )" display-timestamp="displayTimestamp(\n                            sortedMessages[$index-1], message, $first\n                        )" sender="thread.getUser(message.from_user)"></div></li><li class="chatbox-alert-inline chatbox-alert-error" ng-if="messageList.hasError()"><span class="chatbox-alert-inline-icon"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-warning-sign.html"></fl-svg></span> <small class="chatbox-alert-inline-content"><span class="chatbox-alert-inline-title">{[{thread.error.title}]}</span></small> {[{thread.error.message}]}</li></ol><span ng-switch="thread.otherUsersOnline()"><div class="chatbox-thread-contact" ng-if="!messageList.hasError()" ng-class="{\n                        \'is-typing\': thread.get().typing,\n                        \'is-relative\': tallerThanContainer()\n                    }"><span ng-switch-when="true"><img class="chatbox-thread-contact-profilepic" width="18" height="18" ng-src="{[{thread.getOtherAvatars()[0]}]}" alt="Contacts activity status"> <span ng-if="thread.get().typing" class="chatbox-thread-contact-activity"><fl-svg src="/static/angularjs/messaging/templates/icons/typing-icon.html"></fl-svg></span></span><aside class="chatbox-thread-contact-message" ng-switch-when="false">The user is offline. Messages you send will be delivered when they come online.</aside></div></span></div></div></div>'),t.put("/static/angularjs/messaging/templates/muteModal.html",'<div style="z-index:999999" class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-header"><button type="button" ng-click="modal.closeMuteModal()" class="close" aria-hidden="true">&times;</button><h3>Mute this conversation?</h3></div><div class="nonerror"><div class="modal-body"><p>This conversation will be archived, you will no longer receive notifications and chat windows will remain closed for future messages.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="modal.muteThread()">Confirm</button> <button class="btn" ng-click="modal.closeMuteModal()" aria-hidden="true">Cancel</button></div></div></div>'),t.put("/static/angularjs/messaging/templates/typingBox.html",'<div class="chatbox-footer-inner"><div class="chatbox-input"><div class="chatbox-input-upload"><form name="chatbox-input-form" class="chatbox-input-form"><button fl-file-select="onFileSelect($files)" multiple class="chatbox-input-upload-button" title="Attach a file"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-attachment.html"></fl-svg></button></form></div><div class="chatbox-input-field-wrapper"><textarea autogrow rows="1" ng-change="thread.type()" ng-keydown="textEntered($event)" class="chatbox-input-field" ng-model="message" placeholder="Enter message or drop files here...">\n            </textarea></div></div><div class="chatbox-upload-wrapper clearfix"><div ng-repeat="file in attachments.get()" class="alert alert-info chatbox-upload-cancel" data-upload_size="{[{file.size | humanFileSize }]}"><span class="chatbox-upload-cancel-filename"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-file.html"></fl-svg>{[{file.name}]}</span> <button class="chatbox-upload-cancel-button" title="Cancel file upload" ng-click="onFileDelete(file)"><fl-svg src="/static/angularjs/messaging/templates/icons/flicon-close.html"></fl-svg></button></div></div></div>'),t.put("/static/angularjs/messaging/templates/videochatFeatureTooltip.html",'<div class="chatbox-onboarding chatbox-onboarding-tutorial hopscotch-bubble" ng-if="tooltipController.shouldShow()" data-target="videochatFeatureTooltip"><div class="hopscotch-bubble-container"><div class="hopscotch-title">New Feature!</div><div class="hopscotch-bubble-content">You can now video-call your freelancers from chat. Better communication means faster results, try it out! <a href="/community/articles/introducing-video-calling-1317">Learn More</a></div><a title="Close" ng-click="tooltipController.close()" data-target="close" class="hopscotch-bubble-close hopscotch-close"></a></div><div class="hopscotch-bubble-arrow-container hopscotch-arrow up"><div class="hopscotch-bubble-arrow"></div></div></div>'),t.put("/static/angularjs/messaging/templates/videochatOverlay.html",'<div ng-show="videochatEnabled && videochat.getCallRequested()" class="chatbox-call chatbox-overlay ng-cloak"><div class="chatbox-call-inner"><div class="chatbox-row"><div class="chatbox-call-content"><span class="chatbox-call-contact videochat-contactavatar has-contactavatar-animation"><img class="chatbox-call-contact-profilepic" ng-src="{[{::chattingTo().avatar_cdn}]}" alt="{[{::chattingTo().username}]}"></span> <span class="chatbox-call-contact-username">{[{::chattingTo().username}]}</span> <small class="chatbox-call-status">wants to video call</small></div></div><div class="chatbox-row"><div fl-analytics-section="DesktopVideochat" class="chatbox-call-controls"><button fl-analytics="declineCall" fl-analytics-value="{[{thread.get().id}]}" ng-click="videochat.rejectCall()" class="btn btn-danger chatbox-call-button">Decline</button> <button fl-analytics="acceptCall" fl-analytics-value="{[{thread.get().id}]}" fl-insta-click="videochat.acceptCall()" class="btn btn-success chatbox-call-button">Answer</button></div></div></div></div>'),t.put("/static/angularjs/messaging/templates/videochatSurvey.html",'<div ng-show="isShowing()" class="chatbox-onboarding chatbox-onboarding-survey hopscotch-bubble"><div class="hopscotch-bubble-container"><div class="hopscotch-title">Give us your feedback</div><div class="hopscotch-bubble-content">How was your call? Tell us by taking our brief survey. <a ng-click="close()" target="_blank" href="https://docs.google.com/a/freelancer.com/forms/d/1R-DllKKKyobiAR_vig0-3kYRhv0R_Mbs-q88K8s77Mk/viewform?c=0&w=1">Take the survey now</a></div><a ng-click="close()" title="Close" href="#" class="hopscotch-bubble-close hopscotch-close"></a></div><div class="hopscotch-bubble-arrow-container hopscotch-arrow up"></div></div>')
}]);