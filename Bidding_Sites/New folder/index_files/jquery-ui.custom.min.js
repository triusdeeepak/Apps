/*! jQuery UI - v1.10.3 - 2013-08-18
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return'area'===h?(e=b.parentNode,f=e.name,b.href&&f&&'map'===e.nodeName.toLowerCase()?(g=a('img[usemap=#'+f+']')[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:'a'===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return'hidden'===a.css(this,'visibility')}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:'1.10.3',keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return'number'==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css('position'))||/absolute/.test(this.css('position'))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,'position'))&&/(auto|scroll)/.test(a.css(this,'overflow')+a.css(this,'overflow-y')+a.css(this,'overflow-x'))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,'overflow')+a.css(this,'overflow-y')+a.css(this,'overflow-x'))}).eq(0),/fixed/.test(this.css('position'))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css('zIndex',c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css('position'),('absolute'===d||'relative'===d||'fixed'===d)&&(e=parseInt(f.css('zIndex'),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id='ui-id-'+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr('id')})}}),a.extend(a.expr[':'],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,'tabindex')))},tabbable:function(b){var d=a.attr(b,'tabindex'),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a('<a>').outerWidth(1).jquery||a.each(['Width','Height'],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,'padding'+this))||0,d&&(c-=parseFloat(a.css(b,'border'+this+'Width'))||0),e&&(c-=parseFloat(a.css(b,'margin'+this))||0)}),c}var f='Width'===d?['Left','Right']:['Top','Bottom'],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn['inner'+d]=function(c){return c===b?h['inner'+d].call(this):this.each(function(){a(this).css(g,e(this,c)+'px')})},a.fn['outer'+d]=function(b,c){return'number'!=typeof b?h['outer'+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+'px')})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a('<a>').data('a-b','a').removeData('a-b').data('a-b')&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart='onselectstart'in document.createElement('div'),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?'selectstart':'mousedown')+'.ui-disableSelection',function(a){a.preventDefault()})},enableSelection:function(){return this.unbind('.ui-disableSelection')}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if('hidden'===a(b).css('overflow'))return!1;var d=c&&'left'===c?'scrollLeft':'scrollTop',e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})})(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler('remove')}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split('.')[0];c=c.split('.')[1],f=k+'-'+c,e||(e=d,d=a.Widget),a.expr[':'][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+'.'+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h='string'==typeof g,j=d.call(arguments,1),k=this;return g=!h&&j.length?a.widget.extend.apply(null,[g].concat(j)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&'_'!==g.charAt(0)?(d=e[g].apply(e,j),d!==e&&d!==b?(k=d&&d.jquery?k.pushStack(d.get()):d,!1):b):a.error('no such method \''+g+'\' for '+c+' widget instance'):a.error('cannot call methods on '+c+' prior to initialization; '+'attempted to call method \''+g+'\'')}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),k}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace='.'+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger('create',null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr('aria-disabled').removeClass(this.widgetFullName+'-disabled '+'ui-state-disabled'),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus')},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if('string'==typeof c)if(h={},e=c.split('.'),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,'disabled'===a&&(this.widget().toggleClass(this.widgetFullName+'-disabled ui-state-disabled',!!b).attr('aria-disabled',b),this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus')),this},enable:function(){return this._setOption('disabled',!1)},disable:function(){return this._setOption('disabled',!0)},_on:function(c,d,e){var f,g=this;'boolean'!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function j(){return c||g.options.disabled!==!0&&!a(this).hasClass('ui-state-disabled')?('string'==typeof h?g[h]:h).apply(g,arguments):b}'string'!=typeof h&&(j.guid=h.guid=h.guid||j.guid||a.guid++);var k=e.match(/^(\w+)\s*(.*)$/),l=k[1]+g.eventNamespace,m=k[2];m?f.delegate(m,l,j):d.bind(l,j)})},_off:function(a,b){b=(b||'').split(' ').join(this.eventNamespace+' ')+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return('string'==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass('ui-state-hover')},mouseleave:function(b){a(b.currentTarget).removeClass('ui-state-hover')}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass('ui-state-focus')},focusout:function(b){a(b.currentTarget).removeClass('ui-state-focus')}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:'fadeIn',hide:'fadeOut'},function(b,c){a.Widget.prototype['_'+b]=function(d,e,f){'string'==typeof e&&(e={effect:e});var g,h=e?e===!0||'number'==typeof e?c:e.effect||c:b;e=e||{},'number'==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget('ui.mouse',{version:'1.10.3',options:{cancel:'input,textarea,button,select,option',distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind('mousedown.'+this.widgetName,function(a){return b._mouseDown(a)}).bind('click.'+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+'.preventClickEvent')?(a.removeData(c.target,b.widgetName+'.preventClickEvent'),c.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName),this._mouseMoveDelegate&&a(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,f=1===c.which,g='string'==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return f&&!g&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+'.preventClickEvent')&&a.removeData(c.target,this.widgetName+'.preventClickEvent'),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+'.preventClickEvent',!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a('<div style=\'display:block;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>'),g=e.children()[0];return a('body').append(e),c=g.offsetWidth,e.css('overflow','scroll'),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?'':b.element.css('overflow-x'),d=b.isWindow?'':b.element.css('overflow-y'),e='scroll'===c||'auto'===c&&b.width<b.element[0].scrollWidth,f='scroll'===d||'auto'===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,v,w,x=a(b.of),y=a.position.getWithinInfo(b.within),z=a.position.getScrollInfo(y),A=(b.collision||'flip').split(' '),B={};return w=e(x),x[0].preventDefault&&(b.at='left top'),n=w.width,p=w.height,q=w.offset,v=a.extend({},q),a.each(['my','at'],function(){var a,c,d=(b[this]||'').split(' ');1===d.length&&(d=j.test(d[0])?d.concat(['center']):k.test(d[0])?['center'].concat(d):['center','center']),d[0]=j.test(d[0])?d[0]:'center',d[1]=k.test(d[1])?d[1]:'center',a=l.exec(d[0]),c=l.exec(d[1]),B[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===A.length&&(A[1]=A[0]),'right'===b.at[0]?v.left+=n:'center'===b.at[0]&&(v.left+=n/2),'bottom'===b.at[1]?v.top+=p:'center'===b.at[1]&&(v.top+=p/2),f=c(B.at,n,p),v.left+=f[0],v.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,'marginLeft'),u=d(this,'marginTop'),w=l+o+d(this,'marginRight')+z.width,C=m+u+d(this,'marginBottom')+z.height,D=a.extend({},v),E=c(B.my,k.outerWidth(),k.outerHeight());'right'===b.my[0]?D.left-=l:'center'===b.my[0]&&(D.left-=l/2),'bottom'===b.my[1]?D.top-=m:'center'===b.my[1]&&(D.top-=m/2),D.left+=E[0],D.top+=E[1],a.support.offsetFractions||(D.left=i(D.left),D.top=i(D.top)),e={marginLeft:o,marginTop:u},a.each(['left','top'],function(c,d){a.ui.position[A[c]]&&a.ui.position[A[c]][d](D,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:w,collisionHeight:C,offset:[f[0]+E[0],f[1]+E[1]],my:b.my,at:b.at,within:y,elem:k})}),b.using&&(j=function(a){var c=q.left-D.left,d=c+n-l,e=q.top-D.top,f=e+p-m,i={target:{element:x,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:D.left,top:D.top,width:l,height:m},horizontal:0>d?'left':c>0?'right':'center',vertical:0>f?'top':e>0?'bottom':'middle'};l>n&&n>h(c+d)&&(i.horizontal='center'),m>p&&p>h(e+f)&&(i.vertical='middle'),i.important=g(h(c),h(d))>g(h(e),h(f))?'horizontal':'vertical',b.using.call(this,a,i)}),k.offset(a.extend(D,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m='left'===b.my[0]?-b.elemWidth:'right'===b.my[0]?b.elemWidth:0,n='left'===b.at[0]?b.targetWidth:'right'===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m='top'===b.my[1],n=m?-b.elemHeight:'bottom'===b.my[1]?b.elemHeight:0,o='top'===b.at[1]?b.targetHeight:'bottom'===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName('body')[0],h=document.createElement('div');b=document.createElement(g?'div':'body'),d={visibility:'hidden',width:0,height:0,border:0,margin:0,background:'none'},g&&a.extend(d,{position:'absolute',left:'-1000px',top:'-1000px'});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText='position: absolute; left: 10.7432222px;',e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML='',c.removeChild(b)}()}(jQuery),function(a){a.widget('ui.draggable',a.ui.mouse,{version:'1.10.3',widgetEventPrefix:'drag',options:{addClasses:!0,appendTo:'parent',axis:!1,connectToSortable:!1,containment:!1,cursor:'auto',cursorAt:!1,grid:!1,handle:!1,helper:'original',iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:'default',scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:'both',snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){'original'!==this.options.helper||/^(?:r|a|f)/.test(this.element.css('position'))||(this.element[0].style.position='relative'),this.options.addClasses&&this.element.addClass('ui-draggable'),this.options.disabled&&this.element.addClass('ui-draggable-disabled'),this._mouseInit()},_destroy:function(){this.element.removeClass('ui-draggable ui-draggable-dragging ui-draggable-disabled'),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest('.ui-resizable-handle').length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?'iframe':c.iframeFix).each(function(){a('<div class=\'ui-draggable-iframeFix\' style=\'background: #fff;\'></div>').css({width:this.offsetWidth+'px',height:this.offsetHeight+'px',position:'absolute',opacity:'0.001',zIndex:1e3}).css(a(this).offset()).appendTo('body')}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass('ui-draggable-dragging'),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css('position'),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css('position'),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger('start',b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if('fixed'===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo('absolute'),!c){var d=this._uiHash();if(this._trigger('drag',b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),'original'!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?('invalid'===this.options.revert&&!d||'valid'===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger('stop',b)!==!1&&c._clear()}):this._trigger('stop',b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a('div.ui-draggable-iframeFix').each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is('.ui-draggable-dragging')?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):'clone'===c.helper?this.element.clone().removeAttr('id'):this.element;return d.parents('body').length||d.appendTo('parent'===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css('position'))||d.css('position','absolute'),d},_adjustOffsetFromHelper:function(b){'string'==typeof b&&(b=b.split(' ')),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),'left'in b&&(this.offset.click.left=b.left+this.margins.left),'right'in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),'top'in b&&(this.offset.click.top=b.top+this.margins.top),'bottom'in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:b.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css('marginLeft'),10)||0,top:parseInt(this.element.css('marginTop'),10)||0,right:parseInt(this.element.css('marginRight'),10)||0,bottom:parseInt(this.element.css('marginBottom'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,f=this.options;return f.containment?'window'===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):'document'===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):f.containment.constructor===Array?(this.containment=f.containment,undefined):('parent'===f.containment&&(f.containment=this.helper[0].parentNode),c=a(f.containment),d=c[0],d&&(b='hidden'!==c.css('overflow'),this.containment=[(parseInt(c.css('borderLeftWidth'),10)||0)+(parseInt(c.css('paddingLeft'),10)||0),(parseInt(c.css('borderTopWidth'),10)||0)+(parseInt(c.css('paddingTop'),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css('borderRightWidth'),10)||0)-(parseInt(c.css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css('borderBottomWidth'),10)||0)-(parseInt(c.css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c),undefined):(this.containment=null,undefined)},_convertPositionTo:function(b,c){c||(c=this.position);var d='absolute'===b?1:-1,f='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,f,g,h=this.options,i='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,j=b.pageX,k=b.pageY;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(j=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(k=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(j=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(k=c[3]+this.offset.click.top)),h.grid&&(f=h.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,k=c?f-this.offset.click.top>=c[1]||f-this.offset.click.top>c[3]?f:f-this.offset.click.top>=c[1]?f-h.grid[1]:f+h.grid[1]:f,g=h.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,j=c?g-this.offset.click.left>=c[0]||g-this.offset.click.left>c[2]?g:g-this.offset.click.left>=c[0]?g-h.grid[0]:g+h.grid[0]:g)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass('ui-draggable-dragging'),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),'drag'===b&&(this.positionAbs=this._convertPositionTo('absolute')),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add('draggable','connectToSortable',{start:function(b,c){var d=a(this).data('ui-draggable'),f=d.options,g=a.extend({},c,{item:d.element});d.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,'ui-sortable');c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger('activate',b,g))})},stop:function(b,c){var d=a(this).data('ui-draggable'),f=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,'original'===d.options.helper&&this.instance.currentItem.css({top:'auto',left:'auto'})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger('deactivate',b,f))})},drag:function(b,c){var d=a(this).data('ui-draggable'),f=this;a.each(d.sortables,function(){var g=!1,h=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(g=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(h.instance.element[0],this.instance.element[0])&&(g=!1),g})),g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr('id').appendTo(this.instance.element).data('ui-sortable-item',!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger('toSortable',b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger('out',b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger('fromSortable',b),d.dropped=!1)})}}),a.ui.plugin.add('draggable','cursor',{start:function(){var b=a('body'),c=a(this).data('ui-draggable').options;b.css('cursor')&&(c._cursor=b.css('cursor')),b.css('cursor',c.cursor)},stop:function(){var b=a(this).data('ui-draggable').options;b._cursor&&a('body').css('cursor',b._cursor)}}),a.ui.plugin.add('draggable','opacity',{start:function(b,c){var d=a(c.helper),f=a(this).data('ui-draggable').options;d.css('opacity')&&(f._opacity=d.css('opacity')),d.css('opacity',f.opacity)},stop:function(b,c){var d=a(this).data('ui-draggable').options;d._opacity&&a(c.helper).css('opacity',d._opacity)}}),a.ui.plugin.add('draggable','scroll',{start:function(){var b=a(this).data('ui-draggable');b.scrollParent[0]!==document&&'HTML'!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data('ui-draggable'),d=c.options,f=!1;c.scrollParent[0]!==document&&'HTML'!==c.scrollParent[0].tagName?(d.axis&&'x'===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&'y'===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&'x'===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&'y'===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add('draggable','snap',{start:function(){var b=a(this).data('ui-draggable'),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||':data(ui-draggable)':c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,f,g,h,i,j,k,l,m,n,o=a(this).data('ui-draggable'),p=o.options,q=p.snapTolerance,r=c.offset.left,s=r+o.helperProportions.width,t=c.offset.top,u=t+o.helperProportions.height;for(m=o.snapElements.length-1;m>=0;m--)i=o.snapElements[m].left,j=i+o.snapElements[m].width,k=o.snapElements[m].top,l=k+o.snapElements[m].height,i-q>s||r>j+q||k-q>u||t>l+q||!a.contains(o.snapElements[m].item.ownerDocument,o.snapElements[m].item)?(o.snapElements[m].snapping&&o.options.snap.release&&o.options.snap.release.call(o.element,b,a.extend(o._uiHash(),{snapItem:o.snapElements[m].item})),o.snapElements[m].snapping=!1):('inner'!==p.snapMode&&(d=q>=Math.abs(k-u),f=q>=Math.abs(l-t),g=q>=Math.abs(i-s),h=q>=Math.abs(j-r),d&&(c.position.top=o._convertPositionTo('relative',{top:k-o.helperProportions.height,left:0}).top-o.margins.top),f&&(c.position.top=o._convertPositionTo('relative',{top:l,left:0}).top-o.margins.top),g&&(c.position.left=o._convertPositionTo('relative',{top:0,left:i-o.helperProportions.width}).left-o.margins.left),h&&(c.position.left=o._convertPositionTo('relative',{top:0,left:j}).left-o.margins.left)),n=d||f||g||h,'outer'!==p.snapMode&&(d=q>=Math.abs(k-t),f=q>=Math.abs(l-u),g=q>=Math.abs(i-r),h=q>=Math.abs(j-s),d&&(c.position.top=o._convertPositionTo('relative',{top:k,left:0}).top-o.margins.top),f&&(c.position.top=o._convertPositionTo('relative',{top:l-o.helperProportions.height,left:0}).top-o.margins.top),g&&(c.position.left=o._convertPositionTo('relative',{top:0,left:i}).left-o.margins.left),h&&(c.position.left=o._convertPositionTo('relative',{top:0,left:j-o.helperProportions.width}).left-o.margins.left)),!o.snapElements[m].snapping&&(d||f||g||h||n)&&o.options.snap.snap&&o.options.snap.snap.call(o.element,b,a.extend(o._uiHash(),{snapItem:o.snapElements[m].item})),o.snapElements[m].snapping=d||f||g||h||n)}}),a.ui.plugin.add('draggable','stack',{start:function(){var b,c=this.data('ui-draggable').options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css('zIndex'),10)||0)-(parseInt(a(c).css('zIndex'),10)||0)});d.length&&(b=parseInt(a(d[0]).css('zIndex'),10)||0,a(d).each(function(c){a(this).css('zIndex',b+c)}),this.css('zIndex',b+d.length))}}),a.ui.plugin.add('draggable','zIndex',{start:function(b,c){var d=a(c.helper),f=a(this).data('ui-draggable').options;d.css('zIndex')&&(f._zIndex=d.css('zIndex')),d.css('zIndex',f.zIndex)},stop:function(b,c){var d=a(this).data('ui-draggable').options;d._zIndex&&a(c.helper).css('zIndex',d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget('ui.droppable',{version:'1.10.3',widgetEventPrefix:'drop',options:{accept:'*',activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:'default',tolerance:'intersect',activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass('ui-droppable')},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass('ui-droppable ui-droppable-disabled')},_setOption:function(b,c){'accept'===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger('activate',b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger('deactivate',b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger('over',b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger('out',b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,f=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(':data(ui-droppable)').not('.ui-draggable-dragging').each(function(){var b=a.data(this,'ui-droppable');return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(f=!0,!1):undefined}),f?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger('drop',b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=g+a.helperProportions.width,i=(a.positionAbs||a.position.absolute).top,j=i+a.helperProportions.height,k=c.offset.left,l=k+c.proportions.width,m=c.offset.top,n=m+c.proportions.height;switch(d){case'fit':return g>=k&&l>=h&&i>=m&&n>=j;case'intersect':return g+a.helperProportions.width/2>k&&l>h-a.helperProportions.width/2&&i+a.helperProportions.height/2>m&&n>j-a.helperProportions.height/2;case'pointer':return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,m,c.proportions.height)&&b(e,k,c.proportions.width);case'touch':return(i>=m&&n>=i||j>=m&&n>=j||m>i&&j>n)&&(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l);default:return!1}},a.ui.ddmanager={current:null,droppables:{'default':[]},prepareOffsets:function(b,c){var d,f,g=a.ui.ddmanager.droppables[b.options.scope]||[],h=c?c.type:null,i=(b.currentItem||b.element).find(':data(ui-droppable)').addBack();a:for(d=0;g.length>d;d++)if(!(g[d].options.disabled||b&&!g[d].accept.call(g[d].element[0],b.currentItem||b.element))){for(f=0;i.length>f;f++)if(i[f]===g[d].element[0]){g[d].proportions.height=0;continue a}g[d].visible='none'!==g[d].element.css('display'),g[d].visible&&('mousedown'===h&&g[d]._activate.call(g[d],c),g[d].offset=g[d].element.offset(),g[d].proportions={width:g[d].element[0].offsetWidth,height:g[d].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil('body').bind('scroll.droppable',function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,f,g,h=a.ui.intersect(b,this,this.options.tolerance),j=!h&&this.isover?'isout':h&&!this.isover?'isover':null;j&&(this.options.greedy&&(f=this.options.scope,g=this.element.parents(':data(ui-droppable)').filter(function(){return a.data(this,'ui-droppable').options.scope===f}),g.length&&(d=a.data(g[0],'ui-droppable'),d.greedyChild='isover'===j)),d&&'isover'===j&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[j]=!0,this['isout'===j?'isover':'isout']=!1,this['isover'===j?'_over':'_out'].call(this,c),d&&'isout'===j&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil('body').unbind('scroll.droppable'),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget('ui.resizable',a.ui.mouse,{version:'1.10.3',widgetEventPrefix:'resize',options:{alsoResize:!1,animate:!1,animateDuration:'slow',animateEasing:'swing',aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:'e,s,se',helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,f,g,h=this,i=this.options;if(this.element.addClass('ui-resizable'),a.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||'ui-resizable-helper':null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class=\'ui-wrapper\' style=\'overflow: hidden;\'></div>').css({position:this.element.css('position'),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css('top'),left:this.element.css('left')})),this.element=this.element.parent().data('ui-resizable',this.element.data('ui-resizable')),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css('marginLeft'),marginTop:this.originalElement.css('marginTop'),marginRight:this.originalElement.css('marginRight'),marginBottom:this.originalElement.css('marginBottom')}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css('resize'),this.originalElement.css('resize','none'),this._proportionallyResizeElements.push(this.originalElement.css({position:'static',zoom:1,display:'block'})),this.originalElement.css({margin:this.originalElement.css('margin')}),this._proportionallyResize()),this.handles=i.handles||(a('.ui-resizable-handle',this.element).length?{n:'.ui-resizable-n',e:'.ui-resizable-e',s:'.ui-resizable-s',w:'.ui-resizable-w',se:'.ui-resizable-se',sw:'.ui-resizable-sw',ne:'.ui-resizable-ne',nw:'.ui-resizable-nw'}:'e,s,se'),this.handles.constructor===String)for('all'===this.handles&&(this.handles='n,e,s,w,se,sw,ne,nw'),b=this.handles.split(','),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),g='ui-resizable-'+d,f=a('<div class=\'ui-resizable-handle '+g+'\'></div>'),f.css({zIndex:i.zIndex}),'se'===d&&f.addClass('ui-icon ui-icon-gripsmall-diagonal-se'),this.handles[d]='.ui-resizable-'+d,this.element.append(f);this._renderAxis=function(b){var c,d,f,g;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),g=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),f=['padding',/ne|nw|n/.test(c)?'Top':/se|sw|s/.test(c)?'Bottom':/^e$/.test(c)?'Right':'Left'].join(''),b.css(f,g),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a('.ui-resizable-handle',this.element).disableSelection(),this._handles.mouseover(function(){h.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),h.axis=f&&f[1]?f[1]:'se')}),i.autoHide&&(this._handles.hide(),a(this.element).addClass('ui-resizable-autohide').mouseenter(function(){i.disabled||(a(this).removeClass('ui-resizable-autohide'),h._handles.show())}).mouseleave(function(){i.disabled||h.resizing||(a(this).addClass('ui-resizable-autohide'),h._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass('ui-resizable ui-resizable-disabled ui-resizable-resizing').removeData('resizable').removeData('ui-resizable').unbind('.resizable').find('.ui-resizable-handle').remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css('position'),width:b.outerWidth(),height:b.outerHeight(),top:b.css('top'),left:b.css('left')}).insertAfter(b),b.remove()),this.originalElement.css('resize',this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,f=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(f=!0);return!this.options.disabled&&f},_mouseStart:function(c){var d,f,g,h=this.options,i=this.element.position(),j=this.element;return this.resizing=!0,/absolute/.test(j.css('position'))?j.css({position:'absolute',top:j.css('top'),left:j.css('left')}):j.is('.ui-draggable')&&j.css({position:'absolute',top:i.top,left:i.left}),this._renderProxy(),d=b(this.helper.css('left')),f=b(this.helper.css('top')),h.containment&&(d+=a(h.containment).scrollLeft()||0,f+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:f},this.size=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalPosition={left:d,top:f},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio='number'==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,g=a('.ui-resizable-'+this.axis).css('cursor'),a('body').css('cursor','auto'===g?this.axis+'-resize':g),j.addClass('ui-resizable-resizing'),this._propagate('start',c),!0},_mouseDrag:function(b){var c,d=this.helper,f={},g=this.originalMousePosition,h=this.axis,i=this.position.top,j=this.position.left,k=this.size.width,l=this.size.height,m=b.pageX-g.left||0,n=b.pageY-g.top||0,o=this._change[h];return o?(c=o.apply(this,[b,m,n]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate('resize',b),this.position.top!==i&&(f.top=this.position.top+'px'),this.position.left!==j&&(f.left=this.position.left+'px'),this.size.width!==k&&(f.width=this.size.width+'px'),this.size.height!==l&&(f.height=this.size.height+'px'),d.css(f),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(f)||this._trigger('resize',b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,f,g,h,i,j,k=this.options,l=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),f=d&&a.ui.hasScroll(c[0],'left')?0:l.sizeDiff.height,g=d?0:l.sizeDiff.width,h={width:l.helper.width()-g,height:l.helper.height()-f},i=parseInt(l.element.css('left'),10)+(l.position.left-l.originalPosition.left)||null,j=parseInt(l.element.css('top'),10)+(l.position.top-l.originalPosition.top)||null,k.animate||this.element.css(a.extend(h,{top:j,left:i})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!k.animate&&this._proportionallyResize()),a('body').css('cursor','auto'),this.element.removeClass('ui-resizable-resizing'),this._propagate('stop',b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),g.maxWidth>d&&(g.maxWidth=d),g.maxHeight>f&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),'sw'===e&&(a.left=b.left+(d.width-a.width),a.top=null),'nw'===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(d),m=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&l&&(a.left=j-b.minWidth),e&&l&&(a.left=j-b.maxWidth),h&&m&&(a.top=k-b.minHeight),f&&m&&(a.top=k-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css('borderTopWidth'),e.css('borderRightWidth'),e.css('borderBottomWidth'),e.css('borderLeftWidth')],d=[e.css('paddingTop'),e.css('paddingRight'),e.css('paddingBottom'),e.css('paddingLeft')],b=0;c.length>b;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a('<div style=\'overflow:hidden;\'></div>'),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:'absolute',left:this.elementOffset.left+'px',top:this.elementOffset.top+'px',zIndex:++c.zIndex}),this.helper.appendTo('body').disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),'resize'!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add('resizable','animate',{stop:function(b){var c=a(this).data('ui-resizable'),d=c.options,f=c._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],'left')?0:c.sizeDiff.height,i=g?0:c.sizeDiff.width,j={width:c.size.width-i,height:c.size.height-h},k=parseInt(c.element.css('left'),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css('top'),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css('width'),10),height:parseInt(c.element.css('height'),10),top:parseInt(c.element.css('top'),10),left:parseInt(c.element.css('left'),10)};f&&f.length&&a(f[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate('resize',b)}})}}),a.ui.plugin.add('resizable','containment',{start:function(){var c,d,f,g,h,i,j,k=a(this).data('ui-resizable'),l=k.options,m=k.element,n=l.containment,o=n instanceof a?n.get(0):/parent/.test(n)?m.parent().get(0):n;o&&(k.containerElement=a(o),/document/.test(n)||n===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(o),d=[],a(['Top','Right','Left','Bottom']).each(function(a,e){d[a]=b(c.css('padding'+e))}),k.containerOffset=c.offset(),k.containerPosition=c.position(),k.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},f=k.containerOffset,g=k.containerSize.height,h=k.containerSize.width,i=a.ui.hasScroll(o,'left')?o.scrollWidth:h,j=a.ui.hasScroll(o)?o.scrollHeight:g,k.parentData={element:o,left:f.left,top:f.top,width:i,height:j}))},resize:function(b){var c,d,f,g,h=a(this).data('ui-resizable'),i=h.options,j=h.containerOffset,k=h.position,l=h._aspectRatio||b.shiftKey,m={top:0,left:0},n=h.containerElement;n[0]!==document&&/static/.test(n.css('position'))&&(m=j),k.left<(h._helper?j.left:0)&&(h.size.width=h.size.width+(h._helper?h.position.left-j.left:h.position.left-m.left),l&&(h.size.height=h.size.width/h.aspectRatio),h.position.left=i.helper?j.left:0),k.top<(h._helper?j.top:0)&&(h.size.height=h.size.height+(h._helper?h.position.top-j.top:h.position.top),l&&(h.size.width=h.size.height*h.aspectRatio),h.position.top=h._helper?j.top:0),h.offset.left=h.parentData.left+h.position.left,h.offset.top=h.parentData.top+h.position.top,c=Math.abs((h._helper?h.offset.left-m.left:h.offset.left-m.left)+h.sizeDiff.width),d=Math.abs((h._helper?h.offset.top-m.top:h.offset.top-j.top)+h.sizeDiff.height),f=h.containerElement.get(0)===h.element.parent().get(0),g=/relative|absolute/.test(h.containerElement.css('position')),f&&g&&(c-=h.parentData.left),c+h.size.width>=h.parentData.width&&(h.size.width=h.parentData.width-c,l&&(h.size.height=h.size.width/h.aspectRatio)),d+h.size.height>=h.parentData.height&&(h.size.height=h.parentData.height-d,l&&(h.size.width=h.size.height*h.aspectRatio))},stop:function(){var b=a(this).data('ui-resizable'),c=b.options,d=b.containerOffset,f=b.containerPosition,g=b.containerElement,h=a(b.helper),i=h.offset(),j=h.outerWidth()-b.sizeDiff.width,k=h.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(g.css('position'))&&a(this).css({left:i.left-f.left-d.left,width:j,height:k}),b._helper&&!c.animate&&/static/.test(g.css('position'))&&a(this).css({left:i.left-f.left-d.left,width:j,height:k})}}),a.ui.plugin.add('resizable','alsoResize',{start:function(){var b=a(this).data('ui-resizable'),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data('ui-resizable-alsoresize',{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css('left'),10),top:parseInt(b.css('top'),10)})})};'object'!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data('ui-resizable'),f=d.options,g=d.originalSize,h=d.originalPosition,i={height:d.size.height-g.height||0,width:d.size.width-g.width||0,top:d.position.top-h.top||0,left:d.position.left-h.left||0},j=function(b,d){a(b).each(function(){var b=a(this),f=a(this).data('ui-resizable-alsoresize'),g={},h=d&&d.length?d:b.parents(c.originalElement[0]).length?['width','height']:['width','height','top','left'];a.each(h,function(a,b){var c=(f[b]||0)+(i[b]||0);c&&c>=0&&(g[b]=c||null)}),b.css(g)})};'object'!=typeof f.alsoResize||f.alsoResize.nodeType?j(f.alsoResize):a.each(f.alsoResize,function(a,b){j(a,b)})},stop:function(){a(this).removeData('resizable-alsoresize')}}),a.ui.plugin.add('resizable','ghost',{start:function(){var b=a(this).data('ui-resizable'),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:'block',position:'relative',height:d.height,width:d.width,margin:0,left:0,top:0}).addClass('ui-resizable-ghost').addClass('string'==typeof c.ghost?c.ghost:''),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data('ui-resizable');b.ghost&&b.ghost.css({position:'relative',height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data('ui-resizable');b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add('resizable','grid',{resize:function(){var b=a(this).data('ui-resizable'),c=b.options,d=b.size,f=b.originalSize,g=b.originalPosition,h=b.axis,i='number'==typeof c.grid?[c.grid,c.grid]:c.grid,j=i[0]||1,k=i[1]||1,l=Math.round((d.width-f.width)/j)*j,m=Math.round((d.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=c.maxWidth&&n>c.maxWidth,q=c.maxHeight&&o>c.maxHeight,r=c.minWidth&&c.minWidth>n,s=c.minHeight&&c.minHeight>o;c.grid=i,r&&(n+=j),s&&(o+=k),p&&(n-=j),q&&(o-=k),/^(se|s|e)$/.test(h)?(b.size.width=n,b.size.height=o):/^(ne)$/.test(h)?(b.size.width=n,b.size.height=o,b.position.top=g.top-m):/^(sw)$/.test(h)?(b.size.width=n,b.size.height=o,b.position.left=g.left-l):(b.size.width=n,b.size.height=o,b.position.top=g.top-m,b.position.left=g.left-l)}})}(jQuery),function(a){a.widget('ui.selectable',a.ui.mouse,{version:'1.10.3',options:{appendTo:'body',autoRefresh:!0,distance:0,filter:'*',tolerance:'touch',selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass('ui-selectable'),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass('ui-selectee'),b.each(function(){var b=a(this),c=b.offset();a.data(this,'selectable-item',{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass('ui-selected'),selecting:b.hasClass('ui-selecting'),unselecting:b.hasClass('ui-unselecting')})})},this.refresh(),this.selectees=b.addClass('ui-selectee'),this._mouseInit(),this.helper=a('<div class=\'ui-selectable-helper\'></div>')},_destroy:function(){this.selectees.removeClass('ui-selectee').removeData('selectable-item'),this.element.removeClass('ui-selectable ui-selectable-disabled'),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger('start',b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter('.ui-selected').each(function(){var d=a.data(this,'selectable-item');d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass('ui-selected'),d.selected=!1,d.$element.addClass('ui-unselecting'),d.unselecting=!0,c._trigger('unselecting',b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,f=a.data(this,'selectable-item');return f?(d=!b.metaKey&&!b.ctrlKey||!f.$element.hasClass('ui-selected'),f.$element.removeClass(d?'ui-unselecting':'ui-selected').addClass(d?'ui-selecting':'ui-unselecting'),f.unselecting=!d,f.selecting=d,f.selected=d,d?c._trigger('selecting',b,{selecting:f.element}):c._trigger('unselecting',b,{unselecting:f.element}),!1):undefined}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,f=this.options,g=this.opos[0],h=this.opos[1],i=b.pageX,j=b.pageY;return g>i&&(c=i,i=g,g=c),h>j&&(c=j,j=h,h=c),this.helper.css({left:g,top:h,width:i-g,height:j-h}),this.selectees.each(function(){var c=a.data(this,'selectable-item'),k=!1;c&&c.element!==d.element[0]&&('touch'===f.tolerance?k=!(c.left>i||g>c.right||c.top>j||h>c.bottom):'fit'===f.tolerance&&(k=c.left>g&&i>c.right&&c.top>h&&j>c.bottom),k?(c.selected&&(c.$element.removeClass('ui-selected'),c.selected=!1),c.unselecting&&(c.$element.removeClass('ui-unselecting'),c.unselecting=!1),c.selecting||(c.$element.addClass('ui-selecting'),c.selecting=!0,d._trigger('selecting',b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass('ui-selecting'),c.selecting=!1,c.$element.addClass('ui-selected'),c.selected=!0):(c.$element.removeClass('ui-selecting'),c.selecting=!1,c.startselected&&(c.$element.addClass('ui-unselecting'),c.unselecting=!0),d._trigger('unselecting',b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass('ui-selected'),c.selected=!1,c.$element.addClass('ui-unselecting'),c.unselecting=!0,d._trigger('unselecting',b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a('.ui-unselecting',this.element[0]).each(function(){var d=a.data(this,'selectable-item');d.$element.removeClass('ui-unselecting'),d.unselecting=!1,d.startselected=!1,c._trigger('unselected',b,{unselected:d.element})}),a('.ui-selecting',this.element[0]).each(function(){var d=a.data(this,'selectable-item');d.$element.removeClass('ui-selecting').addClass('ui-selected'),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger('selected',b,{selected:d.element})}),this._trigger('stop',b),this.helper.remove(),!1}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css('float'))||/inline|table-cell/.test(a.css('display'))}a.widget('ui.sortable',a.ui.mouse,{version:'1.10.3',widgetEventPrefix:'sort',ready:!1,options:{appendTo:'parent',axis:!1,connectWith:!1,containment:!1,cursor:'auto',cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:'original',items:'> *',opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:'default',tolerance:'intersect',zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass('ui-sortable'),this.refresh(),this.floating=this.items.length?'x'===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass('ui-sortable ui-sortable-disabled'),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+'-item');return this},_setOption:function(b,c){'disabled'===b?(this.options[b]=c,this.widget().toggleClass('ui-sortable-disabled',!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||'static'===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+'-item')===f?(d=a(this),!1):undefined}),a.data(b.target,f.widgetName+'-item')===f&&(d=a(b.target)),d?!this.options.handle||c||(a(this.options.handle,d).find('*').addBack().each(function(){this===b.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css('position','absolute'),this.cssPosition=this.helper.css('position'),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&'auto'!==g.cursor&&(f=this.document.find('body'),this.storedCursor=f.css('cursor'),f.css('cursor',g.cursor),this.storedStylesheet=a('<style>*{ cursor: '+g.cursor+' !important; }</style>').appendTo(f)),g.opacity&&(this.helper.css('opacity')&&(this._storedOpacity=this.helper.css('opacity')),this.helper.css('opacity',g.opacity)),g.zIndex&&(this.helper.css('zIndex')&&(this._storedZIndex=this.helper.css('zIndex')),this.helper.css('zIndex',g.zIndex)),this.scrollParent[0]!==document&&'HTML'!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger('start',b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger('activate',b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass('ui-sortable-helper'),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo('absolute'),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&'HTML'!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo('absolute'),this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?'next':'prev']()[0]!==e&&!a.contains(this.placeholder[0],e)&&('semi-dynamic'===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?'down':'up','pointer'!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger('change',b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger('sort',b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&'x'!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&'y'!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),'original'===this.options.helper?this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper'):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger('deactivate',null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger('out',null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),'original'!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||'id')||'').match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+'[]')+'='+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+'='),d.join('&')},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||'id')||'')}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l='x'===this.options.axis||d+j>h&&i>d+j,m='y'===this.options.axis||b+k>f&&g>b+k,n=l&&m;return'pointer'===this.options.tolerance||this.options.forcePointerForContainers||'pointer'!==this.options.tolerance&&this.helperProportions[this.floating?'width':'height']>a[this.floating?'width':'height']?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c='x'===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d='y'===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),f=c&&d,g=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return f?this.floating?h&&'right'===h||'down'===g?2:1:g&&('down'===g?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?'right'===g&&d||'left'===g&&!d:f&&('down'===f&&c||'up'===f&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?'down':'up')},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?'right':'left')},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&b)for(c=i.length-1;c>=0;c--)for(e=a(i[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),f]);for(h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),this]),c=h.length-1;c>=0;c--)h[c][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(':data('+this.widgetName+'-item)');this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+'-item',g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),f=a('<'+d+'>',b.document[0]).addClass(c||b.currentItem[0].className+' ui-sortable-placeholder').removeClass('ui-sortable-helper');return'tr'===d?b.currentItem.children().each(function(){a('<td>&#160;</td>',b.document[0]).attr('colspan',a(this).attr('colspan')||1).appendTo(f)}):'img'===d&&f.attr('src',b.currentItem.attr('src')),c||f.css('visibility','hidden'),f},update:function(a,f){(!c||d.forcePlaceholderSize)&&(f.height()||f.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css('paddingTop')||0,10)-parseInt(b.currentItem.css('paddingBottom')||0,10)),f.width()||f.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css('paddingLeft')||0,10)-parseInt(b.currentItem.css('paddingRight')||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var f,g,h,j,k,l,m,n,o,p,q=null,r=null;for(f=this.containers.length-1;f>=0;f--)if(!a.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(q&&a.contains(this.containers[f].element[0],q.element[0]))continue;q=this.containers[f],r=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger('out',d,this._uiHash(this)),this.containers[f].containerCache.over=0);if(q)if(1===this.containers.length)this.containers[r].containerCache.over||(this.containers[r]._trigger('over',d,this._uiHash(this)),this.containers[r].containerCache.over=1);else{for(h=1e4,j=null,p=q.floating||c(this.currentItem),k=p?'left':'top',l=p?'width':'height',m=this.positionAbs[k]+this.offset.click[k],g=this.items.length-1;g>=0;g--)a.contains(this.containers[r].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(!p||b(this.positionAbs.top+this.offset.click.top,this.items[g].top,this.items[g].height))&&(n=this.items[g].item.offset()[k],o=!1,Math.abs(n-m)>Math.abs(n+this.items[g][l]-m)&&(o=!0,n+=this.items[g][l]),h>Math.abs(n-m)&&(h=Math.abs(n-m),j=this.items[g],this.direction=o?'up':'down'));if(!j&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[r])return;j?this._rearrange(d,j,null,!0):this._rearrange(d,null,this.containers[r].element,!0),this._trigger('change',d,this._uiHash()),this.containers[r]._trigger('change',d,this._uiHash(this)),this.currentContainer=this.containers[r],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger('over',d,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):'clone'===c.helper?this.currentItem.clone():this.currentItem;return d.parents('body').length||a('parent'!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css('position'),top:this.currentItem.css('top'),left:this.currentItem.css('left')}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){'string'==typeof b&&(b=b.split(' ')),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),'left'in b&&(this.offset.click.left=b.left+this.margins.left),'right'in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),'top'in b&&(this.offset.click.top=b.top+this.margins.top),'bottom'in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:b.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css('marginLeft'),10)||0,top:parseInt(this.currentItem.css('marginTop'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;'parent'===e.containment&&(e.containment=this.helper[0].parentNode),('document'===e.containment||'window'===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a('document'===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a('document'===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d='hidden'!==a(b).css('overflow'),this.containment=[c.left+(parseInt(a(b).css('borderLeftWidth'),10)||0)+(parseInt(a(b).css('paddingLeft'),10)||0)-this.margins.left,c.top+(parseInt(a(b).css('borderTopWidth'),10)||0)+(parseInt(a(b).css('paddingTop'),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css('borderLeftWidth'),10)||0)-(parseInt(a(b).css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css('borderTopWidth'),10)||0)-(parseInt(a(b).css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d='absolute'===b?1:-1,e='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h='absolute'!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return'relative'!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],'down'===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)('auto'===this._storedCSS[c]||'static'===this._storedCSS[c])&&(this._storedCSS[c]='');this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper')}else this.currentItem.show();for(this.fromOutside&&!b&&d.push(function(a){this._trigger('receive',a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not('.ui-sortable-helper')[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger('update',a,this._uiHash())}),this!==this.currentContainer&&(b||(d.push(function(a){this._trigger('remove',a,this._uiHash())}),d.push(function(a){return function(b){a._trigger('receive',b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger('update',b,this._uiHash(this))}}.call(this,this.currentContainer)))),c=this.containers.length-1;c>=0;c--)b||d.push(function(a){return function(b){a._trigger('deactivate',b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(function(a){return function(b){a._trigger('out',b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find('body').css('cursor',this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css('opacity',this._storedOpacity),this._storedZIndex&&this.helper.css('zIndex','auto'===this._storedZIndex?'':this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger('beforeStop',a,this._uiHash()),c=0;d.length>c;c++)d[c].call(this,a);this._trigger('stop',a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger('beforeStop',a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(c=0;d.length>c;c++)d[c].call(this,a);this._trigger('stop',a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery)